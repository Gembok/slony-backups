From efraindector at motumweb.com  Thu Mar  1 15:42:51 2012
From: efraindector at motumweb.com (=?utf-8?Q?Efra=C3=ADn_D=C3=A9ctor?=)
Date: Thu, 1 Mar 2012 17:42:51 -0600
Subject: [Slony1-general] Cascading replication using altperl scripts
Message-ID: <CBE9D0DADE0A492383F7107721DB9BB4@CMOTUM25PC>

Hello list:
My name is Efrain and this week I?ve been using Slony-I, with the help of the documentation I?ve been able to setup replication between 2 nodes using slonik scripts and also with altperl scripts. For me, using altperl scritps is more comfortable but now I?m stucked trying to set cascading replication. I have this in mind:
A1 ?> B1 ?> B2
Meaning that A1 would be the master to B1 but also B1 would be master of B2. My slon_tools.conf looks like this:
add_node(node => 1,
host => '192.168.1.231',
dbname => 'prueba',
port => 5432,
user => 'postgres',
password => '1');
add_node(node => 2,
host => '192.168.1.232',
dbname => 'prueba',
port => 5432,
noforward => allow,
user => 'pgsql',
password => '2');
add_node(node => 3,
parent => 2,
host => '192.168.1.233',
dbname => 'prueba',
port => 5432,
user => 'pgsql',
password => '3');
I understand that B1 shall be configured to accept forward but I don?t now how to do this.
Any help would be really appreciated.
Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-general/attachments/20120301/cab5e08a/attachment.htm 

From ngramsky at cs.umd.edu  Sat Mar  3 18:53:48 2012
From: ngramsky at cs.umd.edu (NewToSlony)
Date: Sat, 3 Mar 2012 18:53:48 -0800 (PST)
Subject: [Slony1-general]  Slony 2.0 will not install with postgreSQL 8.1
Message-ID: <33436818.post@talk.nabble.com>


If I'm reading the documentation of 2.0 correctly I should be able to install
Slony 2.0 with PostgreSQL versions 7.3.3 and higher.  Yet when I run the
configure script on my box it is giving me an error saying I cannot do so
unless my version is 8.3  Am I missing something?
-- 
View this message in context: http://old.nabble.com/Slony-2.0-will-not-install-with-postgreSQL-8.1-tp33436818p33436818.html
Sent from the Slony-I -- General mailing list archive at Nabble.com.


From steve at ssinger.info  Sat Mar  3 19:03:04 2012
From: steve at ssinger.info (Steve Singer)
Date: Sat, 3 Mar 2012 22:03:04 -0500
Subject: [Slony1-general] Slony 2.0 will not install with postgreSQL 8.1
In-Reply-To: <33436818.post@talk.nabble.com>
References: <33436818.post@talk.nabble.com>
Message-ID: <BLU0-SMTP3310252D872491161E513A2DC530@phx.gbl>

On Sat, 3 Mar 2012, NewToSlony wrote:

>
> If I'm reading the documentation of 2.0 correctly I should be able to install
> Slony 2.0 with PostgreSQL versions 7.3.3 and higher.  Yet when I run the
> configure script on my box it is giving me an error saying I cannot do so
> unless my version is 8.3  Am I missing something?

No Slony 2.0+ requires at least Postgersql 8.3

Slony 1.2.x will work with postgresql 8.1


> -- 
> View this message in context: http://old.nabble.com/Slony-2.0-will-not-install-with-postgreSQL-8.1-tp33436818p33436818.html
> Sent from the Slony-I -- General mailing list archive at Nabble.com.
>
> _______________________________________________
> Slony1-general mailing list
> Slony1-general at lists.slony.info
> http://lists.slony.info/mailman/listinfo/slony1-general
>


From ngramsky at cs.umd.edu  Sun Mar  4 15:59:31 2012
From: ngramsky at cs.umd.edu (NewToSlony)
Date: Sun, 4 Mar 2012 15:59:31 -0800 (PST)
Subject: [Slony1-general]  Install without root permissions
Message-ID: <33440610.post@talk.nabble.com>


Is it possible to install Slony without root or sudo permissions?  I've tried
in the past but been unable to do so.  I was using the --with-pgconfigdir
option only but I'm not sure what the other options buy me or if the use of
one of those options lets me accomplish my goal.  It appears they only let
me spread the slony files around my machine.
-- 
View this message in context: http://old.nabble.com/Install-without-root-permissions-tp33440610p33440610.html
Sent from the Slony-I -- General mailing list archive at Nabble.com.


From devrim at gunduz.org  Sun Mar  4 16:23:01 2012
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon, 05 Mar 2012 02:23:01 +0200
Subject: [Slony1-general] Install without root permissions
In-Reply-To: <33440610.post@talk.nabble.com>
References: <33440610.post@talk.nabble.com>
Message-ID: <1330906981.20792.4.camel@lenovo01-laptop03.gunduz.org>

On Sun, 2012-03-04 at 15:59 -0800, NewToSlony wrote:
> 
> Is it possible to install Slony without root or sudo permissions?  

Use --prefix with configure :

./configure --prefix=/path/to/your/installation 

assuming that the user you compile and install slony has write access to
that specific directory.

-- 
Devrim G?ND?Z
Principal Systems Engineer @ EnterpriseDB: http://www.enterprisedb.com
PostgreSQL Dan??man?/Consultant, Red Hat Certified Engineer
Community: devrim~PostgreSQL.org, devrim.gunduz~linux.org.tr
http://www.gunduz.org  Twitter: http://twitter.com/devrimgunduz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
Url : http://lists.slony.info/pipermail/slony1-general/attachments/20120305/5c91c6f6/attachment.pgp 

From ngramsky at cs.umd.edu  Sun Mar  4 17:25:57 2012
From: ngramsky at cs.umd.edu (NewToSlony)
Date: Sun, 4 Mar 2012 17:25:57 -0800 (PST)
Subject: [Slony1-general] Install without root permissions
In-Reply-To: <1330906981.20792.4.camel@lenovo01-laptop03.gunduz.org>
References: <33440610.post@talk.nabble.com>
	<1330906981.20792.4.camel@lenovo01-laptop03.gunduz.org>
Message-ID: <33440809.post@talk.nabble.com>


That did not seem to work.  I'm getting the same error I get if I try it with
'with-pgconfigdir.

What I did:

 ./configure --prefix=/var/lib/pgsql/slony
 gmake all
 gmake install

Yet I get the following error:

$ gmake install
gmake[1]: Entering directory `/tmp/slony1-1.2.23/src'
gmake[2]: Entering directory `/tmp/slony1-1.2.23/src/xxid'
/bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/lib64/pgsql/
/bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/share/pgsql/
/bin/sh /tmp/slony1-1.2.23/config/install-sh -c -m 755 xxid.so
/usr/lib64/pgsql/
cp: cannot create regular file `/usr/lib64/pgsql//#inst.24369#': Permission
denied
gmake[2]: *** [install] Error 1
gmake[2]: Leaving directory `/tmp/slony1-1.2.23/src/xxid'
gmake[1]: *** [install] Error 2
gmake[1]: Leaving directory `/tmp/slony1-1.2.23/src'
gmake: *** [install] Error 2



I know I have write access as I created the /var/lib/pgsql/slony directory
as the postgres user(the same user I am trying the install as).

Thanks



Devrim G?ND?Z wrote:
> 
> On Sun, 2012-03-04 at 15:59 -0800, NewToSlony wrote:
>> 
>> Is it possible to install Slony without root or sudo permissions?  
> 
> Use --prefix with configure :
> 
> ./configure --prefix=/path/to/your/installation 
> 
> assuming that the user you compile and install slony has write access to
> that specific directory.
> 
> -- 
> Devrim G?ND?Z
> Principal Systems Engineer @ EnterpriseDB: http://www.enterprisedb.com
> PostgreSQL Dan??man?/Consultant, Red Hat Certified Engineer
> Community: devrim~PostgreSQL.org, devrim.gunduz~linux.org.tr
> http://www.gunduz.org  Twitter: http://twitter.com/devrimgunduz
> 
>  
> _______________________________________________
> Slony1-general mailing list
> Slony1-general at lists.slony.info
> http://lists.slony.info/mailman/listinfo/slony1-general
> 
> 

-- 
View this message in context: http://old.nabble.com/Install-without-root-permissions-tp33440610p33440809.html
Sent from the Slony-I -- General mailing list archive at Nabble.com.


From jeff at pgexperts.com  Sun Mar  4 18:40:28 2012
From: jeff at pgexperts.com (Jeff Frost)
Date: Sun, 4 Mar 2012 18:40:28 -0800
Subject: [Slony1-general] Install without root permissions
In-Reply-To: <33440809.post@talk.nabble.com>
References: <33440610.post@talk.nabble.com>
	<1330906981.20792.4.camel@lenovo01-laptop03.gunduz.org>
	<33440809.post@talk.nabble.com>
Message-ID: <7D4A6711-CCCC-438F-9AC4-0018B18ABD96@pgexperts.com>

Ah yes, the issue is that you need a few .so files installed in the postgresql libdir.  that appears to be: /usr/lib64/pgsql on your installation.  

BTW, any chance you could subscribe to the mailing list so we don't have to keep moderating each one of your emails to the list?

On Mar 4, 2012, at 5:25 PM, NewToSlony wrote:

> 
> That did not seem to work.  I'm getting the same error I get if I try it with
> 'with-pgconfigdir.
> 
> What I did:
> 
> ./configure --prefix=/var/lib/pgsql/slony
> gmake all
> gmake install
> 
> Yet I get the following error:
> 
> $ gmake install
> gmake[1]: Entering directory `/tmp/slony1-1.2.23/src'
> gmake[2]: Entering directory `/tmp/slony1-1.2.23/src/xxid'
> /bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/lib64/pgsql/
> /bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/share/pgsql/
> /bin/sh /tmp/slony1-1.2.23/config/install-sh -c -m 755 xxid.so
> /usr/lib64/pgsql/
> cp: cannot create regular file `/usr/lib64/pgsql//#inst.24369#': Permission
> denied
> gmake[2]: *** [install] Error 1
> gmake[2]: Leaving directory `/tmp/slony1-1.2.23/src/xxid'
> gmake[1]: *** [install] Error 2
> gmake[1]: Leaving directory `/tmp/slony1-1.2.23/src'
> gmake: *** [install] Error 2



From ngramsky at cs.umd.edu  Sun Mar  4 18:55:21 2012
From: ngramsky at cs.umd.edu (NewToSlony)
Date: Sun, 4 Mar 2012 18:55:21 -0800 (PST)
Subject: [Slony1-general] Install without root permissions
In-Reply-To: <7D4A6711-CCCC-438F-9AC4-0018B18ABD96@pgexperts.com>
References: <33440610.post@talk.nabble.com>
	<1330906981.20792.4.camel@lenovo01-laptop03.gunduz.org>
	<33440809.post@talk.nabble.com>
	<7D4A6711-CCCC-438F-9AC4-0018B18ABD96@pgexperts.com>
Message-ID: <33441006.post@talk.nabble.com>


I've subscribed.  Sorry, didn't realize I needed to do something...

About your reply, I'm not sure I completely follow you as I'm a bit green to
PostgreSQL.  What .so files am I missing?  How can they be missing if
PotgreSQL is working fine?  Do I need to specify other Slony options as I
run configure?



Jeff Frost-2 wrote:
> 
> Ah yes, the issue is that you need a few .so files installed in the
> postgresql libdir.  that appears to be: /usr/lib64/pgsql on your
> installation.  
> 
> BTW, any chance you could subscribe to the mailing list so we don't have
> to keep moderating each one of your emails to the list?
> 
> On Mar 4, 2012, at 5:25 PM, NewToSlony wrote:
> 
>> 
>> That did not seem to work.  I'm getting the same error I get if I try it
>> with
>> 'with-pgconfigdir.
>> 
>> What I did:
>> 
>> ./configure --prefix=/var/lib/pgsql/slony
>> gmake all
>> gmake install
>> 
>> Yet I get the following error:
>> 
>> $ gmake install
>> gmake[1]: Entering directory `/tmp/slony1-1.2.23/src'
>> gmake[2]: Entering directory `/tmp/slony1-1.2.23/src/xxid'
>> /bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/lib64/pgsql/
>> /bin/sh /tmp/slony1-1.2.23/config/mkinstalldirs /usr/share/pgsql/
>> /bin/sh /tmp/slony1-1.2.23/config/install-sh -c -m 755 xxid.so
>> /usr/lib64/pgsql/
>> cp: cannot create regular file `/usr/lib64/pgsql//#inst.24369#':
>> Permission
>> denied
>> gmake[2]: *** [install] Error 1
>> gmake[2]: Leaving directory `/tmp/slony1-1.2.23/src/xxid'
>> gmake[1]: *** [install] Error 2
>> gmake[1]: Leaving directory `/tmp/slony1-1.2.23/src'
>> gmake: *** [install] Error 2
> 
> 
> _______________________________________________
> Slony1-general mailing list
> Slony1-general at lists.slony.info
> http://lists.slony.info/mailman/listinfo/slony1-general
> 
> 

-- 
View this message in context: http://old.nabble.com/Install-without-root-permissions-tp33440610p33441006.html
Sent from the Slony-I -- General mailing list archive at Nabble.com.


