From bugzilla-daemon at main.slony.info  Wed Sep  7 08:48:04 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed,  7 Sep 2011 08:48:04 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 238] New: Draw in Copyright Update script from
	PostgreSQL
Message-ID: <bug-238-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=238

           Summary: Draw in Copyright Update script from PostgreSQL
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: other scripts
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: cbbrowne at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


A script has been added to PostgreSQL as a "helper" to automatically update
copyright dates throughout the code base.

https://commitfest.postgresql.org/action/patch_view?id=619

We can probably use this, too.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Wed Sep  7 10:03:03 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed,  7 Sep 2011 10:03:03 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 238] Draw in Copyright Update script from
	PostgreSQL
In-Reply-To: <bug-238-4@http.www.slony.info/bugzilla/>
References: <bug-238-4@http.www.slony.info/bugzilla/>
Message-ID: <20110907170303.9E94B290E30@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=238

--- Comment #1 from Christopher Browne <cbbrowne at ca.afilias.info> 2011-09-07 10:03:03 PDT ---
Created branch @ github capturing the file added to PostgreSQL

https://github.com/cbbrowne/slony1-engine/commit/78739a21e25bc6b060457da314dc5bbcdbb7469a

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Wed Sep  7 10:04:19 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed,  7 Sep 2011 10:04:19 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 238] Draw in Copyright Update script from
	PostgreSQL
In-Reply-To: <bug-238-4@http.www.slony.info/bugzilla/>
References: <bug-238-4@http.www.slony.info/bugzilla/>
Message-ID: <20110907170419.E467B290E30@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=238

--- Comment #2 from Christopher Browne <cbbrowne at ca.afilias.info> 2011-09-07 10:04:19 PDT ---
Created an attachment (id=126)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=126)
Sample of diff when copyright.pl is run against Slony

Here is a sample of what is generated.  The code changes look fine.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Sep 20 05:16:19 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 20 Sep 2011 05:16:19 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 239] New: Slony 1.2.22 and PG9.0 shows failure
	at failover
Message-ID: <bug-239-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=239

           Summary: Slony 1.2.22 and PG9.0 shows failure at failover
           Product: Slony-I
           Version: 1.2
          Platform: PC
        OS/Version: Linux
            Status: NEW
          Severity: blocker
          Priority: low
         Component: slonik
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: reena.madan at enterprisedb.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


With combination of PG9.0 and Slony1.2.22, Failover fails to complete
successfully.

During failover pg_listener is being looked for whereas  "pg_listener" has been
removed starting 9.0.

Error seen during failover:
# slonik failover 
failover:6: PGRES_FATAL_ERROR lock table "_edb_cluster".sl_config_lock; select
listenerpid from "pg_catalog".pg_listener     where relname =
'_edb_cluster_Restart';  - ERROR:  relation "pg_catalog.pg_listener" does not
exist
LINE 1: ..._cluster".sl_config_lock; select listenerpid from "pg_catalo...

Replication of data from master to slave works good as well as switchover works
fine.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Sep 20 05:17:11 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 20 Sep 2011 05:17:11 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 239] Slony 1.2.22 and PG9.0 shows failure at
	failover
In-Reply-To: <bug-239-4@http.www.slony.info/bugzilla/>
References: <bug-239-4@http.www.slony.info/bugzilla/>
Message-ID: <20110920121711.5696A290E59@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=239

reena.madan at enterprisedb.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Priority|low                         |high

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Wed Sep 21 12:20:40 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed, 21 Sep 2011 12:20:40 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 240] New: Need better documentation of auto
 vacuum interaction with Slony
Message-ID: <bug-240-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=240

           Summary: Need better documentation of auto vacuum interaction
                    with Slony
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: ASSIGNED
          Severity: enhancement
          Priority: low
         Component: docs
        AssignedTo: cbbrowne at ca.afilias.info
        ReportedBy: cbbrowne at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


Questions have come up on list; it looks like a section describing how vacuum
is handled should be added to Deployment Considerations.

This should include describing:
- What are the parameters?
- What do you need to configure on tables to make them autovac (or not)?
- What is recommended?

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Thu Sep 22 12:48:43 2011
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 22 Sep 2011 12:48:43 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 239] Slony 1.2.22 and PG9.0 shows failure at
	failover
In-Reply-To: <bug-239-4@http.www.slony.info/bugzilla/>
References: <bug-239-4@http.www.slony.info/bugzilla/>
Message-ID: <20110922194843.AD4D12903C6@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=239

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |ssinger at ca.afilias.info
                   |o                           |
             Status|NEW                         |ASSIGNED

--- Comment #1 from Steve Singer <ssinger at ca.afilias.info> 2011-09-22 12:48:43 PDT ---
Created an attachment (id=127)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=127)
Proposed fix

Attached is a proposed fix to get 1.2 working on Postgresql 9.0

Please verify that a) this fixes your problem and b) things work okay on other
versions of postgresql

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

