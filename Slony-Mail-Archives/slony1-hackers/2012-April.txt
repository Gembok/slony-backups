From davidtecher at yahoo.fr  Wed Apr  4 03:25:15 2012
From: davidtecher at yahoo.fr (David TECHER)
Date: Wed, 4 Apr 2012 11:25:15 +0100 (BST)
Subject: [Slony1-hackers] CreateEvent and Lokcs on replicated objects
Message-ID: <1333535115.32327.YahooMailNeo@web29805.mail.ird.yahoo.com>

Hi 


I am using Slony 1.2.22

I've noticed that when a CreateEvent occurs

biopacs_production=# select * from pg_stat_activity where procpid=25021;
?datid |????? datname?????? | procpid | usesysid |?? usename??? |???????????????????????? current_query????????????????????????? | waiting |?????????? query_start??????????? |????????? backend_start?????????? | client_addr | client_port
-------+--------------------+---------+----------+--------------+----------------------------------------------------------------+---------+----------------------------------+----------------------------------+-------------+-------------
?16387 | biopacs_production |?? 25021 |?????? 10 | enterprisedb | select "_biocluster".createEvent('_biocluster', 'SYNC', NULL); | f?????? | 04-APR-12 06:22:24.804654 -04:00 | 01-APR-12 06:53:33.363283 -04:00 | 127.0.1.1?? |?????? 42050
(1 row)



Then by querying pg_locks I've noticed that there is a 'AccessSharelock' on all replicated objects (tables and sequences).

It is normal?

Since our database used intensive CPU (high load) I asked myself if it could explained my issue.

Thanks for letting me know.

Kind regards.

David.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-hackers/attachments/20120404/d2a762dc/attachment.htm 

