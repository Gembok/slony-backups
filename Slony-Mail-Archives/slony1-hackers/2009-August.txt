From devrim at gunduz.org  Mon Aug  3 12:37:16 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug  3 12:38:00 2009
Subject: [Slony1-hackers] Schedule for 1.2.17 (and 2.0.3)
In-Reply-To: <87iqhajjct.fsf@dba2.int.libertyrms.com>
References: <1248904775.9368.27.camel@hp-laptop2.gunduz.org>
	<87iqhajjct.fsf@dba2.int.libertyrms.com>
Message-ID: <1249328236.5535.43.camel@hp-laptop2.gunduz.org>

T24gVGh1LCAyMDA5LTA3LTMwIGF0IDExOjEyIC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gCj4gCj4gSSdkIGxpa2UgdG8gZ2l2ZSB0aGVtIGEgZmV3IGRheXMgdG8gImdlc3RhdGUi
IHRvIGxldCBwZW9wbGUgaGF2ZQo+IGNoYW5jZSB0byB0ZXN0IHRoZW0uCj4gCj4gVGhlIG1pZGRs
ZSBvZiBuZXh0IHdlZWsgd291bGQgc2VlbSBhcHJvcG9zIHRpbWluZywgYXNzdW1pbmcgbm8KPiBu
b24tdHJpdmlhbCBwcm9ibGVtcyBhcmUgcmVwb3J0ZWQuCgpJIGRpZCBub3QgaGF2ZSBhbnkgaXNz
dWVzIHdpdGggbXkgYmFzaWMgcmVwbGljYXRpb24gc2V0dXAgYW5kIHRlc3RpbmcKd2l0aCAyLjAu
M3JjLiBKdXN0IGEgRllJLgotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0
IC0gaHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJp
bX5Qb3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAg
ICAgICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0t
LS0tLS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBu
b3QgYXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5
dGVzCkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBo
dHRwOi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVu
dHMvMjAwOTA4MDMvM2ZlOTBmZTcvYXR0YWNobWVudC5wZ3AK
From devrim at gunduz.org  Tue Aug  4 03:51:54 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Tue Aug  4 03:53:22 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/tools/altperl
 slon-tools.pm slon_tools.conf-sample
In-Reply-To: <20090728152429.5D31C29035D@main.slony.info>
References: <20090728152429.5D31C29035D@main.slony.info>
Message-ID: <1249383114.12242.3.camel@hp-laptop2.gunduz.org>

T24gVHVlLCAyMDA5LTA3LTI4IGF0IDE1OjI0ICswMDAwLCBDaHJpcyBCcm93bmUgd3JvdGU6Cj4g
TW9kaWZpZWQgRmlsZXM6Cj4gICAgICAgICBzbG9uLXRvb2xzLnBtIHNsb25fdG9vbHMuY29uZi1z
YW1wbGUgCj4gTG9nIE1lc3NhZ2U6Cj4gUGVyIERldnJpbSBHdW5kdXouLi4KPiAKPiBBZGQgYSAi
TE9HX05BTUVfU1VGRklYIiB2YXJpYWJsZSB0byBzbG9uLXRvb2xzIHRvIGFsbG93IGNlbnRyYWxs
eQo+IGNvbmZpZ3VyYXRpbmcgdGhlIGZpbGVuYW1lIGZvciBsb2cgZmlsZXMKClRoaXMgcGF0Y2gg
YnJva2UgbG9nZ2luZzoKCi1iYXNoLTQuMCQgc2xvbl9zdGFydCAyCmRhdGU6IGludmFsaWQgZGF0
ZSBgJwpJbnZva2Ugc2xvbiBmb3Igbm9kZSAyIC0gL3Vzci9iaW4vc2xvbiAtcyAxMDAwIC1kMiBy
ZXBsaWNhdGlvbiAnaG9zdD1sb2NhbGhvc3QgZGJuYW1lPXBhZ2lsYSB1c2VyPXBvc3RncmVzIHBv
cnQ9NTQ0MicgPiAvdmFyL2xvZy9zbG9ueTEvc2xvbnkxL25vZGUyL3BhZ2lsYS0ubG9nIDI+JjEg
JgpTbG9uIGZhaWxlZCB0byBzdGFydCBmb3IgY2x1c3RlciByZXBsaWNhdGlvbiwgbm9kZSBub2Rl
MgotYmFzaC00LjAkIAoKVGhpcyBuZWVkcyB0byBiZSBmaXhlZCBiZWZvcmUgMi4wLjMgZmluYWwg
OigKCi0tIApEZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3
LkNvbW1hbmRQcm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2cmltflBvc3RncmVTUUwu
b3JnLCBkZXZyaW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAgICAgICAgICAgaHR0cDov
L3d3dy5ndW5kdXoub3JnCi0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAtLS0tLS0tLS0tLS0tLQpB
IG5vbi10ZXh0IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6IG5vdCBhdmFpbGFibGUK
VHlwZTogYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcgYnl0ZXMKRGVzYzogVGhp
cyBpcyBhIGRpZ2l0YWxseSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5z
bG9ueS5pbmZvL3BpcGVybWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2htZW50cy8yMDA5MDgwNC85
ZWM3YzFjNC9hdHRhY2htZW50LnBncAo=
From devrim at gunduz.org  Tue Aug  4 10:03:52 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Tue Aug  4 10:04:42 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
Message-ID: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>

SGksCgpEbyB3ZSB3YW50IHRvIHN1cHBvcnQgcmVwbGljYXRpb24gd2l0aCBpbXBsaWNpdCBjYXN0
cyByZS1hZGRlZD8gSWYgbm90LApwbGVhc2UgZ2l2ZSB1cCByZWFkaW5nIHRoZSByZXN0IG9mIHRo
aXMgZS1tYWlsLgoqKioqKgoKWW91IGFyZSBoZXJlPyBPaywgaGVyZSB3ZSBnbzoKCkkgd2FzIHBs
YXlpbmcgd2l0aCA4LjMrIHRoZXNlIGNhc3RzIHJlLWFkZGVkOgoKaHR0cDovL3dpa2kucG9zdGdy
ZXNxbC5vcmcvd2lraS9JbWFnZTpQZzgzLWltcGxpY2l0LWNhc3RzLnNxbAoKYW5kIFNsb255LUkg
ZmFpbGVkIGV2ZW4gaW4gaW5pdF9jbHVzdGVyIHBoYXNlLiBUaGUgZmlyc3QgcHJvYmxlbSB3YXMg
dGhlCnF1b3RlX2xpdGVyYWwoKSBmdW5jdGlvbnMuIFdlIGFyZSB1c2luZyBxdW90ZV9saXRlcmFs
KGludGVnZXIpIGluIFNsb255LAphbmQgd2l0aCB0aGUgY2FzdHMgcmUtYWRkZWQsIGluaXQgY2x1
c3RlciBmYWlsczoKCj09PT09PWJlZ2luIGhlcmU9PT09PT09PT09PT09PT0gCjogIG9wZXJhdG9y
IGlzIG5vdCB1bmlxdWU6IGludGVnZXIgfHwgdW5rbm93bgpMSU5FIDE6IFNFTEVDVCAgIl9yZXBs
aWNhdGlvbiIuc2xvbnlWZXJzaW9uTWFqb3IoKSB8fCAnLicgfHwgIl9yZXBsaS4uLgogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeCkhJTlQ6ICBDb3Vs
ZCBub3QgY2hvb3NlIGEgYmVzdCBjYW5kaWRhdGUgb3BlcmF0b3IuIFlvdSBtaWdodCBuZWVkIHRv
IGFkZCBleHBsaWNpdCB0eXBlIGNhc3RzLgpRVUVSWTogIFNFTEVDVCAgIl9yZXBsaWNhdGlvbiIu
c2xvbnlWZXJzaW9uTWFqb3IoKSB8fCAnLicgfHwgIl9yZXBsaWNhdGlvbiIuc2xvbnlWZXJzaW9u
TWlub3IoKSB8fCAnLicgfHwgIl9yZXBsaWNhdGlvbiIuc2xvbnlWZXJzaW9uUGF0Y2hsZXZlbCgp
CkNPTlRFWFQ6ICBQTC9wZ1NRTCBmdW5jdGlvbiAic2xvbnl2ZXJzaW9uIiBsaW5lIDIgYXQgUkVU
VVJOCj09PT09PT09PT09PT09PT09PT09PT09PSAKCgphbHRlcnRhYmxlYWRkdHJpZ2dlcnMoKSBm
YWlscyBhY3R1YWxseS4gSGVyZSBpcyB0aGUgcmVsYXRlZCBwYXJ0IG9mIHRoaXMgZnVuY3Rpb246
Cgo9PT09PT1iZWdpbiBoZXJlPT09PT09PT09PT09PT09IAotLSBDcmVhdGUgdGhlIGxvZyBhbmQg
dGhlIGRlbnkgYWNjZXNzIHRyaWdnZXJzCgktLSAtLS0tCglleGVjdXRlICdjcmVhdGUgdHJpZ2dl
ciAiX3JlcGxpY2F0aW9uX2xvZ3RyaWdnZXIiJyB8fCAKCQkJJyBhZnRlciBpbnNlcnQgb3IgdXBk
YXRlIG9yIGRlbGV0ZSBvbiAnIHx8CgkJCXZfdGFiX2ZxbmFtZSB8fCAnIGZvciBlYWNoIHJvdyBl
eGVjdXRlIHByb2NlZHVyZSAiX3JlcGxpY2F0aW9uIi5sb2dUcmlnZ2VyICgnIHx8CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBwZ19jYXRhbG9nLnF1b3RlX2xpdGVyYWwoJ19yZXBsaWNh
dGlvbicpIHx8ICcsJyB8fCAKLS0tLS0tKioqZmFpbHMqKiotLS0tLS0tLS0+CXBnX2NhdGFsb2cu
cXVvdGVfbGl0ZXJhbChwX3RhYl9pZCkgfHwgJywnIHx8IAoJCQkJcGdfY2F0YWxvZy5xdW90ZV9s
aXRlcmFsKHZfdGFiX2F0dGtpbmQpIHx8ICcpOyc7Cj09PT09PT1lbmQgaGVyZT09PT09PT09PT09
PT09IAoKQWRkaW5nIHRoaXMgZnVuY3Rpb24gc3VycHJlc3NlcyB0aGUgaXNzdWU6Cgo9PT09PT1i
ZWdpbiBoZXJlPT09PT09PT09PT09PT09IApDUkVBVEUgT1IgUkVQTEFDRSBGVU5DVElPTiBwZ19j
YXRhbG9nLnF1b3RlX2xpdGVyYWwoaW50ZWdlcikKIFJFVFVSTlMgdGV4dAogTEFOR1VBR0Ugc3Fs
CiBTVFJJQ1QgQ09TVCAxCkFTICRmdW5jdGlvbiRzZWxlY3QKcGdfY2F0YWxvZy5xdW90ZV9saXRl
cmFsKCQxOjpwZ19jYXRhbG9nLnRleHQpJGZ1bmN0aW9uJDsKPT09PT09PWVuZCBoZXJlPT09PT09
PT09PT09PT0gCgpTYW1lIGlzIGhhcHBlbmluZyB3aXRoIGF1dG92YWM6Cgo9PT09PT1iZWdpbiBo
ZXJlPT09PT09PT09PT09PT09IAoKREVCVUcyIHJlbW90ZVdvcmtlclRocmVhZF8yOiBmb3J3YXJk
IGNvbmZpcm0gMSw1MDAwMDAxMjI3IHJlY2VpdmVkIGJ5IDIKTk9USUNFOiAgU2xvbnktSTogbG9n
IHN3aXRjaCB0byBzbF9sb2dfMiBjb21wbGV0ZSAtIHRydW5jYXRlIHNsX2xvZ18xCkNPTlRFWFQ6
ICBQTC9wZ1NRTCBmdW5jdGlvbiAiY2xlYW51cGV2ZW50IiBsaW5lIDk5IGF0IGFzc2lnbm1lbnQK
SU5GTyAgIGNsZWFudXBUaHJlYWQ6ICAgIDAuMDEwIHNlY29uZHMgZm9yIGNsZWFudXBFdmVudCgp
CkRFQlVHMSBjbGVhbnVwVGhyZWFkOiBtaW54aWQ6IDMyNTgKRVJST1IgIGNsZWFudXBUaHJlYWQ6
ICJzZWxlY3QgbnNwbmFtZSwgcmVsbmFtZSBmcm9tICJfcmVwbGljYXRpb24iLlRhYmxlc1RvVmFj
dXVtKCk7IiAtIEVSUk9SOiAgZnVuY3Rpb24gX3JlcGxpY2F0aW9uLnNob3VsZHNsb255dmFjdXVt
dGFibGUobmFtZSwgbmFtZSkgZG9lcyBub3QgZXhpc3QKTElORSAxOiBTRUxFQ1QgICJfcmVwbGlj
YXRpb24iLlNob3VsZFNsb255VmFjdXVtVGFibGUoICQxICwgICQyICkKICAgICAgICAgICAgICAg
IF4KSElOVDogIE5vIGZ1bmN0aW9uIG1hdGNoZXMgdGhlIGdpdmVuIG5hbWUgYW5kIGFyZ3VtZW50
IHR5cGVzLiBZb3UgbWlnaHQgbmVlZCB0byBhZGQgZXhwbGljaXQgdHlwZSBjYXN0cy4KUVVFUlk6
ICBTRUxFQ1QgICJfcmVwbGljYXRpb24iLlNob3VsZFNsb255VmFjdXVtVGFibGUoICQxICwgICQy
ICkKQ09OVEVYVDogIFBML3BnU1FMIGZ1bmN0aW9uICJ0YWJsZXN0b3ZhY3V1bSIgbGluZSA2IGF0
IElGCkRFQlVHMSBjbGVhbnVwVGhyZWFkOiBudW1iZXIgb2YgdGFibGVzIHRvIGNsZWFuOiAwCgo9
PT09PT09ZW5kIGhlcmU9PT09PT09PT09PT09PSAKCk1vcmUgaXMgaGVyZToKCj09PT09PWJlZ2lu
IGhlcmU9PT09PT09PT09PT09PT0gCkNPTkZJRyByZW1vdGVXb3JrZXJUaHJlYWRfMTogY29weSB0
YWJsZSAicHVibGljIi4iZmlsbV9hY3RvciIKRVJST1IgIHJlbW90ZVdvcmtlclRocmVhZF8xOiAi
c2VsZWN0ICJfcmVwbGljYXRpb24iLnNldEFkZFRhYmxlX2ludCgxLCAxLCAnInB1YmxpYyIuImZp
bG1fYWN0b3IiJywgJ2ZpbG1fYWN0b3JfcGtleScsICdUYWJsZSBwdWJsaWMuZmlsbV9hY3RvciB3
aXRoIHByaW1hcnkga2V5Jyk7ICIgUEdSRVNfRkFUQUxfRVJST1IgRVJST1I6ICBmdW5jdGlvbiBw
Z19jYXRhbG9nLnF1b3RlX2xpdGVyYWwoaW50ZWdlcikgaXMgbm90IHVuaXF1ZQpMSU5FIDE6IC4u
LmdfY2F0YWxvZy5xdW90ZV9saXRlcmFsKCdfcmVwbGljYXRpb24nKSB8fCAnLCcgfHwKcGdfY2F0
YWxvZy4uLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXgpISU5UOiAgQ291bGQgbm90IGNob29zZSBhIGJlc3QgY2FuZGlkYXRlIGZ1
bmN0aW9uLiBZb3UgbWlnaHQgbmVlZCB0byBhZGQgZXhwbGljaXQgdHlwZSBjYXN0cy4KUVVFUlk6
ICBTRUxFQ1QgICdjcmVhdGUgdHJpZ2dlciAiX3JlcGxpY2F0aW9uX2xvZ3RyaWdnZXIiJyB8fCAn
IGFmdGVyIGluc2VydCBvciB1cGRhdGUgb3IgZGVsZXRlIG9uICcgfHwgICQxICB8fCAnIGZvciBl
YWNoIHJvdyBleGVjdXRlCnByb2NlZHVyZSAiX3JlcGxpY2F0aW9uIi5sb2dUcmlnZ2VyICgnIHx8
IHBnX2NhdGFsb2cucXVvdGVfbGl0ZXJhbCgnX3JlcGxpY2F0aW9uJykgfHwgJywnIHx8IHBnX2Nh
dGFsb2cucXVvdGVfbGl0ZXJhbCggJDIgKSB8fCAnLCcgfHwgcGdfY2F0YWxvZy5xdW90ZV9saXRl
cmFsKCAkMyApIHx8ICcpOycKQ09OVEVYVDogIFBML3BnU1FMIGZ1bmN0aW9uICJhbHRlcnRhYmxl
YWRkdHJpZ2dlcnMiIGxpbmUgNTMgYXQgRVhFQ1VURSAKc3RhdGVtZW50IFNRTCBzdGF0ZW1lbnQg
IlNFTEVDVCAgIl9yZXBsaWNhdGlvbiIuYWx0ZXJUYWJsZUFkZFRyaWdnZXJzKCAkMSApIgpQTC9w
Z1NRTCBmdW5jdGlvbiAic2V0YWRkdGFibGVfaW50IiBsaW5lIDEwOSBhdCBQRVJGT1JNCldBUk4g
ICByZW1vdGVXb3JrZXJUaHJlYWRfMTogZGF0YSBjb3B5IGZvciBzZXQgMSBmYWlsZWQgLSBzbGVl
cCA2MApzZWNvbmRzCj09PT09PT1lbmQgaGVyZT09PT09PT09PT09PT09IAoKYW5kIGxvdHMgb2Yg
dGhpbmdzLgoKSSdtIChhZ2FpbikgdXNpbmcgcGFnaWxhIGRhdGFiYXNlIGZvciB0ZXN0aW5nIHRo
aXMuCgpCVFcsIHRoZXNlIGNhc3RzIGFyZSBub3QgZW5vdWdoIGZvciBiYXNpYyBzZXR1cDoKaHR0
cDovL3dpa2kucG9zdGdyZXNxbC5vcmcvaW1hZ2VzL2QvZDEvUGc4My1pbXBsaWNpdC1jYXN0cy5z
cWwKCldlIGFsc28gbmVlZCB0aGVzZToKCj09PT09PWJlZ2luIGhlcmU9PT09PT09PT09PT09PT0g
CkNSRUFURSBGVU5DVElPTiBwZ19jYXRhbG9nLmNvbXBhdF90ZXh0Y2F0KGRvdWJsZSBwcmVjaXNp
b24sIHRleHQpCiAgICAgUkVUVVJOUyB0ZXh0IFNUUklDVCBJTU1VVEFCTEUKICAgICBMQU5HVUFH
RSBTUUwgQVMgJ1NFTEVDVCB0ZXh0Y2F0KENBU1QoJDEgQVMgVEVYVCksICQyKTsnOwoKQ1JFQVRF
IEZVTkNUSU9OIHBnX2NhdGFsb2cuY29tcGF0X3RleHRjYXQodGV4dCwgZG91YmxlIHByZWNpc2lv
bikKICAgICBSRVRVUk5TIHRleHQgU1RSSUNUIElNTVVUQUJMRQogICAgIExBTkdVQUdFIFNRTCBB
UyAnU0VMRUNUIHRleHRjYXQoJDEsIENBU1QoJDIgQVMgVEVYVCkpOyc7CgpDUkVBVEUgT1BFUkFU
T1IgcGdfY2F0YWxvZy58fCAoCiAgICAgUFJPQ0VEVVJFID0gY29tcGF0X3RleHRjYXQsCiAgICAg
TEVGVEFSRyA9IGRvdWJsZSBwcmVjaXNpb24sCiAgICAgUklHSFRBUkcgPSB0ZXh0Cik7CgpDUkVB
VEUgT1BFUkFUT1IgcGdfY2F0YWxvZy58fCAoCiAgICAgUFJPQ0VEVVJFID0gY29tcGF0X3RleHRj
YXQsCiAgICAgTEVGVEFSRyA9IHRleHQsCiAgICAgUklHSFRBUkcgPSBkb3VibGUgcHJlY2lzaW9u
Cik7Cj09PT09PT1lbmQgaGVyZT09PT09PT09PT09PT09IAoKU28sIGlzIHRoZXJlIGEga25vd24g
d29ya2Fyb3VuZD8gSSBoZWFyIHRoYXQgbWFueSBwZW9wbGUgZG8gYWRkIHRoZXNlCmNhc3RzIHdo
aWxlIG1vdmluZyB0byA4LjMrLCBzaW5jZSB0aGVpciBhcHBsaWNhdGlvbiBkb2VzIG5vdCB3b3Jr
CndpdGhvdXQgdGhlc2UuIFNoYWxsIHdlIGlnbm9yZSB0aGVzZSBwZW9wbGU/CgpSZWdhcmRzLAot
LSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0IC0gaHR0cDovL3d3dy5Db21t
YW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJpbX5Qb3N0Z3JlU1FMLm9yZywg
ZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cu
Z3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0tLS0tLS0tLS0KQSBub24t
dGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBub3QgYXZhaWxhYmxlClR5cGU6
IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5dGVzCkRlc2M6IFRoaXMgaXMg
YSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBodHRwOi8vbGlzdHMuc2xvbnku
aW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVudHMvMjAwOTA4MDQvZjI1NGYx
NWEvYXR0YWNobWVudC5wZ3AK
From guillaume at lelarge.info  Tue Aug  4 14:32:42 2009
From: guillaume at lelarge.info (Guillaume Lelarge)
Date: Tue Aug  4 14:33:01 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
Message-ID: <200908042332.42624.guillaume@lelarge.info>

Hi Devrim,

Le mardi 4 ao?t 2009 ? 19:03:52, Devrim G?ND?Z a ?crit :
> [...]
> So, is there a known workaround? I hear that many people do add these
> casts while moving to 8.3+, since their application does not work
> without these. Shall we ignore these people?
>

St?phane already had this issue for one of our customers. No issue available 
right now. You can read his mails on http://www.nabble.com/Error-settling-a-
replication-td24290870.html#a24290870.

We would love to find a workaround for this issue.

Regards.


-- 
Guillaume.
 http://www.postgresqlfr.org
 http://dalibo.com
From devrim at gunduz.org  Tue Aug  4 15:08:18 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Tue Aug  4 15:09:16 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <200908042332.42624.guillaume@lelarge.info>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<200908042332.42624.guillaume@lelarge.info>
Message-ID: <1249423698.27915.26.camel@hp-laptop2.gunduz.org>

T24gVHVlLCAyMDA5LTA4LTA0IGF0IDIzOjMyICswMjAwLCBHdWlsbGF1bWUgTGVsYXJnZSB3cm90
ZToKPiBXZSB3b3VsZCBsb3ZlIHRvIGZpbmQgYSB3b3JrYXJvdW5kIGZvciB0aGlzIGlzc3VlLgoK
VGhlIGZpcnN0IGZ1bmN0aW9uIChxdW90ZV9saXRlcmFsKGludGVnZXIpKSB0aGF0IEkgd3JvdGUg
aW4gbXkgcHJldmlvdXMKZS1tYWlsICsgdGhlIGV4dHJhIGZ1bmN0aW9ucyB0aGF0IEkgd3JvdGUg
c3RhcnRzIGJhc2ljIHJlcGxpY2F0aW9uLiBUaGUKb25seSBpc3N1ZSB3YXMgd2l0aCB0aGUgYXV0
b3ZhYyBwYXJ0LCBidXQgbm93IEkgc2VlIHRoYXQgSSBjYW4gY3JlYXRlCnRoZSBmdW5jdGlvbi4K
CldvdWxkIHlvdSBsaWtlIHRvIHRlc3QgaW4gcHJvZHVjdGlvbj8gOikgSSB3aWxsIGdpdmUgYW5v
dGhlciBzaG90CnRvbW9ycm93LgotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJv
bXB0IC0gaHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRl
dnJpbX5Qb3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAg
ICAgICAgICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQg
LS0tLS0tLS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1l
OiBub3QgYXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3
IGJ5dGVzCkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwg
OiBodHRwOi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNo
bWVudHMvMjAwOTA4MDUvYTJiZTU1YmUvYXR0YWNobWVudC5wZ3AK
From devrim at gunduz.org  Wed Aug  5 03:28:11 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Wed Aug  5 03:29:47 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249423698.27915.26.camel@hp-laptop2.gunduz.org>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<200908042332.42624.guillaume@lelarge.info>
	<1249423698.27915.26.camel@hp-laptop2.gunduz.org>
Message-ID: <1249468091.4153.1.camel@hp-laptop2.gunduz.org>

T24gV2VkLCAyMDA5LTA4LTA1IGF0IDAxOjA4ICswMzAwLCBEZXZyaW0gR8OcTkTDnFogd3JvdGU6
Cj4gV291bGQgeW91IGxpa2UgdG8gdGVzdCBpbiBwcm9kdWN0aW9uPyA6KSBJIHdpbGwgZ2l2ZSBh
bm90aGVyIHNob3QKPiB0b21vcnJvdy4KCkZ1cnRoZXIgdGVzdGluZyByZXBvcnQ6IGV4ZWN1dGVf
c2NyaXB0IGZhaWxlZC4KCkV2ZW50dWFsbHkgd2UgbmVlZCB0byAqZml4KiBTbG9ueS1JIDogU2xv
bnkgMS4yLjE3cmMgY2FuIHJlcGxpY2F0ZSA4LjMKK2ltcGxpY2l0IGNhc3RzIGFkZGVkLCBidXQg
Mi4wLlggY2Fubm90IC0tIEkgYmVsaWV2ZSB3ZSBuZWVkIHRvIGZpeCBzb21lCm9mIHRoZSBmdW5j
cy4KCkNocmlzPwotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0IC0gaHR0
cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJpbX5Qb3N0
Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAgICAgICAg
IGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0tLS0t
LS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBub3QgYXZh
aWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5dGVzCkRl
c2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBodHRwOi8v
bGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVudHMvMjAw
OTA4MDUvNGJkZGVlY2QvYXR0YWNobWVudC5wZ3AK
From cbbrowne at ca.afilias.info  Wed Aug  5 12:45:06 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Wed Aug  5 12:45:34 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249405432.2744.20.camel@hp-laptop2.gunduz.org> (Devrim
	=?iso-8859-1?Q?G=DCND=DCZ's?=
	message of "Tue, 04 Aug 2009 20:03:52 +0300")
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
Message-ID: <87prbagi4d.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> Hi,
>
> Do we want to support replication with implicit casts re-added? If not,
> please give up reading the rest of this e-mail.
> *****
>
> ======begin here=============== 
> :  operator is not unique: integer || unknown
> LINE 1: SELECT  "_replication".slonyVersionMajor() || '.' || "_repli...
>                                                    ^
> HINT:  Could not choose a best candidate operator. You might need to add explicit type casts.
> QUERY:  SELECT  "_replication".slonyVersionMajor() || '.' || "_replication".slonyVersionMinor() || '.' || "_replication".slonyVersionPatchlevel()
> CONTEXT:  PL/pgSQL function "slonyversion" line 2 at RETURN
> ======================== 

It seems to me that explicitly casting the values is apropos.

Thus...

Index: slony1_funcs.sql
===================================================================
RCS file: /home/cvsd/slony1/slony1-engine/src/backend/slony1_funcs.sql,v
retrieving revision 1.145.2.15
diff -c -u -r1.145.2.15 slony1_funcs.sql
cvs diff: conflicting specifications of output style
--- slony1_funcs.sql    31 Jul 2009 19:20:26 -0000      1.145.2.15
+++ slony1_funcs.sql    5 Aug 2009 19:29:09 -0000
@@ -447,9 +447,9 @@
 returns text
 as $$
 begin
-       return @NAMESPACE@.slonyVersionMajor() || '.' ||
-              @NAMESPACE@.slonyVersionMinor() || '.' ||
-              @NAMESPACE@.slonyVersionPatchlevel();
+       return @NAMESPACE@.slonyVersionMajor()::text || '.' ||
+              @NAMESPACE@.slonyVersionMinor()::text || '.' ||
+              @NAMESPACE@.slonyVersionPatchlevel()::text;
 end;
 $$ language plpgsql;
 comment on function @NAMESPACE@.slonyVersion() is


> altertableaddtriggers() fails actually. Here is the related part of this function:
>
> ======begin here=============== 
> -- Create the log and the deny access triggers
> 	-- ----
> 	execute 'create trigger "_replication_logtrigger"' || 
> 			' after insert or update or delete on ' ||
> 			v_tab_fqname || ' for each row execute procedure "_replication".logTrigger (' ||
>                                pg_catalog.quote_literal('_replication') || ',' || 
> ------***fails***--------->	pg_catalog.quote_literal(p_tab_id) || ',' || 
> 				pg_catalog.quote_literal(v_tab_attkind) || ');';
> =======end here============== 
>
> Adding this function surpresses the issue:
>
> ======begin here=============== 
> CREATE OR REPLACE FUNCTION pg_catalog.quote_literal(integer)
>  RETURNS text
>  LANGUAGE sql
>  STRICT COST 1
> AS $function$select
> pg_catalog.quote_literal($1::pg_catalog.text)$function$;
> =======end here============== 

Again, I'd prefer to cast this explicitly, so we're not requiring
external things to rectify "our problem."

@@ -3811,7 +3811,7 @@
                        ' after insert or update or delete on ' ||
                        v_tab_fqname || ' for each row execute procedure @NAMESPACE@.logTrigger (' ||
                                pg_catalog.quote_literal('_@CLUSTERNAME@') || ',' ||
-                               pg_catalog.quote_literal(p_tab_id) || ',' ||
+                               pg_catalog.quote_literal(p_tab_id::text) || ',' ||
                                pg_catalog.quote_literal(v_tab_attkind) || ');';

        execute 'create trigger "_@CLUSTERNAME@_denyaccess" ' ||


> ======begin here=============== 
>
> DEBUG2 remoteWorkerThread_2: forward confirm 1,5000001227 received by 2
> NOTICE:  Slony-I: log switch to sl_log_2 complete - truncate sl_log_1
> CONTEXT:  PL/pgSQL function "cleanupevent" line 99 at assignment
> INFO   cleanupThread:    0.010 seconds for cleanupEvent()
> DEBUG1 cleanupThread: minxid: 3258
> ERROR  cleanupThread: "select nspname, relname from "_replication".TablesToVacuum();" - ERROR:  function _replication.shouldslonyvacuumtable(name, name) does not exist
> LINE 1: SELECT  "_replication".ShouldSlonyVacuumTable( $1 ,  $2 )
>                 ^
> HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
> QUERY:  SELECT  "_replication".ShouldSlonyVacuumTable( $1 ,  $2 )
> CONTEXT:  PL/pgSQL function "tablestovacuum" line 6 at IF
> DEBUG1 cleanupThread: number of tables to clean: 0
>
> =======end here============== 

Actually, it looks as though there's a different problem here.  It
looks to me like there's no ShouldSlonyVacuumTable() for 8.3, which is
a different bad thing!

> More is here:
>
> ======begin here=============== 
> CONFIG remoteWorkerThread_1: copy table "public"."film_actor"
> ERROR  remoteWorkerThread_1: "select "_replication".setAddTable_int(1, 1, '"public"."film_actor"', 'film_actor_pkey', 'Table public.film_actor with primary key'); " PGRES_FATAL_ERROR ERROR:  function pg_catalog.quote_literal(integer) is not unique
> LINE 1: ...g_catalog.quote_literal('_replication') || ',' ||
> pg_catalog...
>                                                              ^
> HINT:  Could not choose a best candidate function. You might need to add explicit type casts.
> QUERY:  SELECT  'create trigger "_replication_logtrigger"' || ' after insert or update or delete on ' ||  $1  || ' for each row execute
> procedure "_replication".logTrigger (' || pg_catalog.quote_literal('_replication') || ',' || pg_catalog.quote_literal( $2 ) || ',' || pg_catalog.quote_literal( $3 ) || ');'
> CONTEXT:  PL/pgSQL function "altertableaddtriggers" line 53 at EXECUTE 
> statement SQL statement "SELECT  "_replication".alterTableAddTriggers( $1 )"
> PL/pgSQL function "setaddtable_int" line 109 at PERFORM
> WARN   remoteWorkerThread_1: data copy for set 1 failed - sleep 60
> seconds
> =======end here============== 

That seems to be the same one up above...

> So, is there a known workaround? I hear that many people do add these
> casts while moving to 8.3+, since their application does not work
> without these. Shall we ignore these people?

I think we should allow them to be ignored :-).

I'd be mighty inclined to explicitly cast the integers to text so that
they don't need to add extra configuration for Slony-I to work.
-- 
"cbbrowne","@","ca.afilias.info"
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From devrim at gunduz.org  Sun Aug  9 13:30:45 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Sun Aug  9 13:31:11 2009
Subject: [Slony1-hackers] Re: Need to update supported platforms
In-Reply-To: <1246541926.2647.166.camel@hp-laptop2.gunduz.org>
References: <1246541926.2647.166.camel@hp-laptop2.gunduz.org>
Message-ID: <1249849845.14856.15.camel@hp-laptop2.gunduz.org>

T24gVGh1LCAyMDA5LTA3LTAyIGF0IDE2OjM5ICswMzAwLCBEZXZyaW0gR8OcTkTDnFogd3JvdGU6
Cj4gaHR0cDovL21haW4uc2xvbnkuaW5mby9kb2N1bWVudGF0aW9uL3N1cHBvcnRlZHBsYXRmb3Jt
cy5odG1sI1BMQVRGT1JNLVRBQkxFCj4gCj4gVGhpcyBpcyBzZXJpb3VzbHkgb3V0IG9mIGRhdGUu
IEkgd2lsbCBwdXNoIGFuIHVwZGF0ZSB0byBDVlMgc2hvcnRseSwKPiBidXQgSSBiZWxpZXZlIHdl
IG5lZWQgbW9yZSByZXNwb25zZSBmcm9tIG90aGVyIHBlb3BsZS4gSSBjYW4gY29uZmlybQo+IHRo
YXQgU2xvbnktSSBydW5zIG9uIEdlbnRvbywgRmVkb3JhIDkrIGFuZCBSSEVMIDQrIG9uIGJvdGgg
YXJjaHMuCgpJIHB1c2hlZCBhIG1ham9yIGNsZWFudXAsIGJhc2VkIG9uIHRoZSBlLW1haWxzIHRo
YXQgSSBnb3QgZnJvbSB1c2Vycy4KSG93ZXZlciwgSSBiZWxpZXZlIHdlIGRvIHN1cHBvcnQgbW9y
ZS4gQ2hyaXMsIEkgdGhpbmsgeW91IGhhdmUgQUlYJ2VzCmFyb3VuZC4gQ291bGQgeW91IHBsZWFz
ZSBhZGQgdGhlbSwgdG9vPwoKUmVnYXJkcywgCi0tIApEZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29t
bWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQcm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6
Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBkZXZyaW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgog
ICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5ndW5kdXoub3JnCi0tLS0tLS0tLS0tLS0tIG5l
eHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVk
Li4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTogYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZQpT
aXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBhIGRpZ2l0YWxseSBzaWduZWQgbWVzc2FnZSBw
YXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZvL3BpcGVybWFpbC9zbG9ueTEtaGFja2Vy
cy9hdHRhY2htZW50cy8yMDA5MDgwOS8zNWRjNjNjNS9hdHRhY2htZW50LnBncAo=
From devrim at gunduz.org  Mon Aug 10 05:32:01 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 05:32:15 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <87prbagi4d.fsf@dba2.int.libertyrms.com>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
Message-ID: <1249907521.5122.10.camel@hp-laptop2.gunduz.org>

T24gV2VkLCAyMDA5LTA4LTA1IGF0IDE1OjQ1IC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gCj4gCj4gSSdkIGJlIG1pZ2h0eSBpbmNsaW5lZCB0byBleHBsaWNpdGx5IGNhc3QgdGhl
IGludGVnZXJzIHRvIHRleHQgc28gdGhhdAo+IHRoZXkgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEg
Y29uZmlndXJhdGlvbiBmb3IgU2xvbnktSSB0byB3b3JrLgoKQ2FuIHdlIGRvIGl0IGZvciAyLjAu
MyBhbmQgMS4yLjE3PwotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0IC0g
aHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJpbX5Q
b3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAgICAg
ICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0t
LS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBub3Qg
YXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5dGVz
CkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBodHRw
Oi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVudHMv
MjAwOTA4MTAvOTZlY2EwZmYvYXR0YWNobWVudC5wZ3AK
From nagaraj.shindagi at gmail.com  Mon Aug 10 03:17:37 2009
From: nagaraj.shindagi at gmail.com (nagaraj shindagi)
Date: Mon Aug 10 08:04:47 2009
Subject: [Slony1-hackers] slony-I 2.0.2 for windows
Message-ID: <9fa914ca0908100317n324b8588gdb037884fb6f2092@mail.gmail.com>

hi friends

i am using postgresql 8.3 along with slony -i , just i am downloaded new
version slony -I 2.0.2, can any one help me how to make installer, i am not
able to understand that readme properly
i am using windows xp
this is readme
------------------------------
---------------------------------------------------------------------------=
--------------
This directory contains the Slony-I installer for Windows. To build the
installer, you will need a copy of WiX installed somewhere in your system
path. The installer has been tested with WiX version 2.0.2419 only at the
time writing. WiX may be downloaded from:

  http://sourceforge.net/projects/wix/.

In order to build the installer, first ensure that a suitable binary is in
the $SRC\Release directory, then, from the $SRC\Installer directory run:

C:\Slony-I\Installer> make 1.2.7

The version number will default to a value set in the Make.bat batch file if
not specified on the command line. 2 files will be built:

Slony1.msm - A merge module for use in other projects.
Slony1.msi - A Windows Installer package for standalone use.
---------------------------------------------------------------------------=
-----------------------------

please help me

regards
nagaraj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-hackers/attachments/20090810/=
32146b6d/attachment.htm
From cbbrowne at ca.afilias.info  Mon Aug 10 08:35:29 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Mon Aug 10 08:35:46 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249907521.5122.10.camel@hp-laptop2.gunduz.org> (Devrim
	=?iso-8859-1?Q?G=DCND=DCZ's?=
	message of "Mon, 10 Aug 2009 15:32:01 +0300")
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
Message-ID: <873a7zfzr2.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> On Wed, 2009-08-05 at 15:45 -0400, Christopher Browne wrote:
>> 
>> 
>> I'd be mighty inclined to explicitly cast the integers to text so that
>> they don't need to add extra configuration for Slony-I to work.
>
> Can we do it for 2.0.3 and 1.2.17?

Just committed this, after going through *ALL* the appends (||) in
slony1_funcs.sql to see where we're appending integers.
-- 
(format nil "~S@~S" "cbbrowne" "ca.afilias.info")
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From devrim at gunduz.org  Mon Aug 10 09:13:18 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 09:13:38 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <873a7zfzr2.fsf@dba2.int.libertyrms.com>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
Message-ID: <1249920798.12785.7.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTEwIGF0IDExOjM1IC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gSnVzdCBjb21taXR0ZWQgdGhpcywgYWZ0ZXIgZ29pbmcgdGhyb3VnaCAqQUxMKiB0aGUg
YXBwZW5kcyAofHwpIGluCj4gc2xvbnkxX2Z1bmNzLnNxbCB0byBzZWUgd2hlcmUgd2UncmUgYXBw
ZW5kaW5nIGludGVnZXJzLgoKTmljZSwgdGhhbmtzLiBJJ2xsIHRlc3QgaXQgdG9kYXkuCi0tIApE
ZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQ
cm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBkZXZy
aW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5ndW5k
dXoub3JnCi0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0
IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTogYXBw
bGljYXRpb24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBhIGRp
Z2l0YWxseSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZv
L3BpcGVybWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2htZW50cy8yMDA5MDgxMC8zZDkwZTMwYi9h
dHRhY2htZW50LnBncAo=
From devrim at gunduz.org  Mon Aug 10 14:44:03 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 14:44:32 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <873a7zfzr2.fsf@dba2.int.libertyrms.com>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
Message-ID: <1249940643.20088.203.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTEwIGF0IDExOjM1IC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gSnVzdCBjb21taXR0ZWQgdGhpcywgYWZ0ZXIgZ29pbmcgdGhyb3VnaCAqQUxMKiB0aGUg
YXBwZW5kcyAofHwpIGluCj4gc2xvbnkxX2Z1bmNzLnNxbCB0byBzZWUgd2hlcmUgd2UncmUgYXBw
ZW5kaW5nIGludGVnZXJzLgoKVGhhbmtzIENocmlzLiBTbyBmYXIsIEkgY291bGQgaW5pdGlhbGl6
ZSBjbHVzdGVyLCBjcmVhdGUgc2V0LCBzdWJzY3JpYmUKc2V0IGFuZCBtZXJnZSBzZXQuCgpIb3dl
dmVyLCBleGVjdXRlIHNjcmlwdCBmYWlsZWQ6Cgo9PT09PT09PT09PT09PT09PT09PT09PT09PQpz
bG9uaWtfZXhlY3V0ZV9zY3JpcHQgMSAvdmFyL2xpYi9wZ3NxbC9hbHRlci5zcWwgfHNsb25pawpE
REwgc2NyaXB0IGNvbnNpc3Rpbmcgb2YgMiBTUUwgc3RhdGVtZW50cwpEREwgU3RhdGVtZW50IDA6
ICgwLDM3KSBbQUxURVIgVEFCTEUgdDEgQUREIENPTFVNTiB0MyBjaGFyKDEpO10KRERMIFN0YXRl
bWVudCAxOiAoMzcsNDApIFsKCl0KU3VibWl0IERETCBFdmVudCB0byBzdWJzY3JpYmVycy4uLgo8
c3RkaW4+OjQ6IFBHUkVTX0ZBVEFMX0VSUk9SIHNlbGVjdCAiX3JlcGxpY2F0aW9uIi5kZGxTY3Jp
cHRfY29tcGxldGUoMSwgJDE6OnRleHQsIC0xKTsgIC0gRVJST1I6ICB2YWx1ZSAiNTAwMDAwMDA2
MiIgaXMgb3V0IG9mIHJhbmdlIGZvciB0eXBlIGludGVnZXIKQ09OVEVYVDogIFBML3BnU1FMIGZ1
bmN0aW9uICJkZGxzY3JpcHRfY29tcGxldGUiIHdoaWxlIGNhc3RpbmcgcmV0dXJuIHZhbHVlIHRv
IGZ1bmN0aW9uJ3MgcmV0dXJuIHR5cGUKPT09PT09PT09PT09PT09PT09PT09PT09PT09CgpUaGlz
IG5lZWRzIHRvIGJlIGZpeGVkLCB0b28uCgotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1h
bmQgUHJvbXB0IC0gaHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5v
cmcsIGRldnJpbX5Qb3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAg
ICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0
IHBhcnQgLS0tLS0tLS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4u
LgpOYW1lOiBub3QgYXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6
ZTogMTk3IGJ5dGVzCkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFy
dApVcmwgOiBodHRwOi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMv
YXR0YWNobWVudHMvMjAwOTA4MTEvMDFjNGMwYzMvYXR0YWNobWVudC5wZ3AK
From devrim at gunduz.org  Mon Aug 10 14:53:22 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 14:53:53 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249940643.20088.203.camel@hp-laptop2.gunduz.org>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
	<1249940643.20088.203.camel@hp-laptop2.gunduz.org>
Message-ID: <1249941202.28179.11.camel@hp-laptop2.gunduz.org>

T24gVHVlLCAyMDA5LTA4LTExIGF0IDAwOjQ0ICswMzAwLCBEZXZyaW0gR8OcTkTDnFogd3JvdGU6
Cj4gVGhhbmtzIENocmlzLiBTbyBmYXIsIEkgY291bGQgaW5pdGlhbGl6ZSBjbHVzdGVyLCBjcmVh
dGUgc2V0LAo+IHN1YnNjcmliZQo+IHNldCBhbmQgbWVyZ2Ugc2V0LgoKK2Ryb3Agc2V0LCB1cGRh
dGUgbm9kZXMsIHVuc3Vic2NyaWJlX3NldCwgdW5pbnN0YWxsIG5vZGUgCgpUaGV5IGJvdGggd29y
ay4gQUZBSUNTLCB0aGUgb25seSBpc3N1ZSBpcyB3aXRoIGV4ZWN1dGUgc2NyaXB0LgoKQlRXOiAK
CnBhZ2lsYT0jIFNFTEVDVCAqIGZyb20gX3JlcGxpY2F0aW9uLnNsX3N0YXR1czsKIHN0X29yaWdp
biB8IHN0X3JlY2VpdmVkIHwgc3RfbGFzdF9ldmVudCB8ICAgICAgc3RfbGFzdF9ldmVudF90cyAg
ICAgIHwgc3RfbGFzdF9yZWNlaXZlZCB8ICAgIHN0X2xhc3RfcmVjZWl2ZWRfdHMgICAgIHwgc3Rf
bGFzdF9yZWNlaXZlZF9ldmVudF90cyAgfCBzdF9sYWdfbnVtX2V2ZW50cyB8ICAgc3RfbGFnX3Rp
bWUgICAKLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0t
LS0rLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgMSB8ICAgICAgICAgICAyIHwgICAgNTAwMDAw
MDA5NiB8IDIwMDktMDgtMTEgMDA6NDg6MTUuMDY1OTA4IHwgICAgICAgNTAwMDAwMDA5NiB8IDIw
MDktMDgtMTEgMDA6NDg6MTUuMTM0Nzg4IHwgMjAwOS0wOC0xMSAwMDo0ODoxNS4wNjU5MDggfCAg
ICAgICAgICAgICAgICAgMCB8IDAwOjAwOjA4LjYxMjE0NQooMSByb3cpCgoKV2h5IHRoZSBldmVu
dCBudW1iZXJzIHN0YXJ0ZWQgd2l0aCA1IGJpbGxpb24/IEFGQUlDUyB0aGlzIGlzIGhhcHBlbmlu
ZyB3aXRoIDIuMC4zIG9ubHkuCi0tIApEZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9t
cHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQcm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2
cmltflBvc3RncmVTUUwub3JnLCBkZXZyaW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAg
ICAgICAgICAgaHR0cDovL3d3dy5ndW5kdXoub3JnCi0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAt
LS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6
IG5vdCBhdmFpbGFibGUKVHlwZTogYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcg
Ynl0ZXMKRGVzYzogVGhpcyBpcyBhIGRpZ2l0YWxseSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6
IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZvL3BpcGVybWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2ht
ZW50cy8yMDA5MDgxMS8zNDI1MjU2Ny9hdHRhY2htZW50LnBncAo=
From devrim at gunduz.org  Mon Aug 10 15:53:29 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 15:54:00 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/src/backend
	slony1_funcs.sql
In-Reply-To: <20090810222542.33A6B290152@main.slony.info>
References: <20090810222542.33A6B290152@main.slony.info>
Message-ID: <1249944809.28179.56.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTEwIGF0IDIyOjI1ICswMDAwLCBDaHJpcyBCcm93bmUgd3JvdGU6Cj4g
Cj4gTW9kaWZpZWQgRmlsZXM6Cj4gICAgICAgVGFnOiBSRUxfMl8wX1NUQUJMRQo+ICAgICAgICAg
c2xvbnkxX2Z1bmNzLnNxbCAKPiBMb2cgTWVzc2FnZToKPiBGdW5jdGlvbnMgdGhhdCByZXR1cm4g
ZXZlbnQgSURzIG5lZWQgdG8gYmUgcmV0dXJuaW5nICJiaWdpbnQiLCBub3QKPiAiaW50NCIKPiBv
ciAiaW50ZWdlciIKPiAKClRoZXNlIHN0dWZmIG5lZWRzIHRvIGJlIGNvbW1pdHRlZCB0byAtSEVB
RCwgSSBiZWxpZXZlLgotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0IC0g
aHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJpbX5Q
b3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAgICAg
ICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0t
LS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBub3Qg
YXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5dGVz
CkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBodHRw
Oi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVudHMv
MjAwOTA4MTEvNzU0NmZkMmEvYXR0YWNobWVudC5wZ3AK
From devrim at gunduz.org  Mon Aug 10 15:57:49 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 10 15:58:20 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <87vdkvs3ox.fsf@dba2.int.libertyrms.com>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
	<1249940643.20088.203.camel@hp-laptop2.gunduz.org>
	<87vdkvs3ox.fsf@dba2.int.libertyrms.com>
Message-ID: <1249945069.28179.58.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTEwIGF0IDE4OjI5IC0wNDAwLCBjaHJpcyB3cm90ZToKPiA+IFRoaXMg
bmVlZHMgdG8gYmUgZml4ZWQsIHRvby4KPiAKPiBGaXhlZCwgZm9yIDIgZnVuY3Rpb25zIChkZGxT
Y3JpcHRfY29tcGxldGUoKSwgdXBkYXRlUmVsb2lkKCkpLCBpbiBib3RoCj4gMS4yIGFuZCAyLjAg
YnJhbmNoZXMuCgpJdCB3b3JrZWQuIFRoYW5rcyA6KSBBRkFJQ1MgYWxsIGlzc3VlcyBhcmUgY2xl
YXJlZC4gVGhhbmtzIENocmlzLgoKSSB0ZXN0ZWQgYWxsIHRoZXNlIHN0dWZmIGFnYWluc3QgOC4z
LjcsIGJ0dy4gRG9lcyBhbnlvbmUgZWxzZSB3YW50IHRvCmdpdmUgYW5vdGhlciB0cnk/CgpSZWdh
cmRzLAotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1hbmQgUHJvbXB0IC0gaHR0cDovL3d3
dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5vcmcsIGRldnJpbX5Qb3N0Z3JlU1FM
Lm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAgICAgICAgICAgICAgICAgIGh0dHA6
Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0tLS0tLS0tLS0K
QSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpOYW1lOiBub3QgYXZhaWxhYmxl
ClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6ZTogMTk3IGJ5dGVzCkRlc2M6IFRo
aXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFydApVcmwgOiBodHRwOi8vbGlzdHMu
c2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMvYXR0YWNobWVudHMvMjAwOTA4MTEv
MzA1OTg0NWMvYXR0YWNobWVudC5wZ3AK
From chris at ca.afilias.info  Mon Aug 10 15:07:36 2009
From: chris at ca.afilias.info (chris)
Date: Tue Aug 11 08:45:00 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249941202.28179.11.camel@hp-laptop2.gunduz.org> ("Devrim
	=?utf-8?B?R8OcTkTDnFoiJ3M=?= message of "Tue,
	11 Aug 2009 00:53:22 +0300")
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
	<1249940643.20088.203.camel@hp-laptop2.gunduz.org>
	<1249941202.28179.11.camel@hp-laptop2.gunduz.org>
Message-ID: <87zla7s4pj.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> On Tue, 2009-08-11 at 00:44 +0300, Devrim G?ND?Z wrote:
>> Thanks Chris. So far, I could initialize cluster, create set,
>> subscribe
>> set and merge set.
>
> +drop set, update nodes, unsubscribe_set, uninstall node 
>
> They both work. AFAICS, the only issue is with execute script.
>
> BTW: 
>
> pagila=# SELECT * from _replication.sl_status;
>  st_origin | st_received | st_last_event |      st_last_event_ts      | st_last_received |    st_last_received_ts     | st_last_received_event_ts  | st_lag_num_events |   st_lag_time   
> -----------+-------------+---------------+----------------------------+------------------+----------------------------+----------------------------+-------------------+-----------------
>          1 |           2 |    5000000096 | 2009-08-11 00:48:15.065908 |       5000000096 | 2009-08-11 00:48:15.134788 | 2009-08-11 00:48:15.065908 |                 0 | 00:00:08.612145
> (1 row)
>
>
> Why the event numbers started with 5 billion? AFAICS this is happening with 2.0.3 only.

Actually, this is a real useful thing, albeit mostly when testing ;-).

We should try things out with Rather Large Event numbers so that we are
confident that we don't have any dumb 32-bit-isms.

I've got a patch to resolve that issue which I'll commit shortly.
-- 
(format nil "~S@~S" "cbbrowne" "ca.afilias.info")
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From chris at ca.afilias.info  Mon Aug 10 15:29:34 2009
From: chris at ca.afilias.info (chris)
Date: Tue Aug 11 08:45:00 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <1249940643.20088.203.camel@hp-laptop2.gunduz.org> ("Devrim
	=?utf-8?B?R8OcTkTDnFoiJ3M=?= message of "Tue,
	11 Aug 2009 00:44:03 +0300")
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
	<1249940643.20088.203.camel@hp-laptop2.gunduz.org>
Message-ID: <87vdkvs3ox.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> This needs to be fixed, too.

Fixed, for 2 functions (ddlScript_complete(), updateReloid()), in both
1.2 and 2.0 branches.

I put a change into src/backend/slony1_base.sql, to set sl_event_seq to
5000000000; I will take that out before we let this out the door, but:

a) Let's test with that in place, as it has nicely pointed out a couple
of bugs, and

b) I want to add in a way to force that event number Way High for
testing, because of a) :-).
-- 
select 'cbbrowne' || '@' || 'ca.afilias.info';
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From nagaraj.shindagi at gmail.com  Tue Aug 11 09:41:40 2009
From: nagaraj.shindagi at gmail.com (nagaraj shindagi)
Date: Tue Aug 11 09:41:49 2009
Subject: [Slony1-hackers] how to "make installer for windows"
Message-ID: <9fa914ca0908110941o60f275c6t613b93ad9e265ebf@mail.gmail.com>

hi friends,

i am using PG 8.3 for windows, and slony 1.2.5, now i want upgrade to
slony-I 2.0.2. so i downloaded source from Slony.info, *win32 binary is
slony-I-2.0.2R-pg83.zip<http://developer.pgadmin.org/%7Ehiroshi/Slony-I/slo=
ny-I-2.0.2R-pg83.zip>and
**installer script source is
slony_installer.zip<http://developer.pgadmin.org/%7Ehiroshi/Slony-I/slony_i=
nstaller.zip>from
http://developer.pgadmin.org/~hiroshi/Slony-I/<http://developer.pgadmin.org=
/%7Ehiroshi/Slony-I/>
*. Destination of download file to Desktop. i extracted all these files in
desktop only.

now i followed the instrcution which is given in win32 binary folder.
this is the readme file
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
This is Slony Version 2.0.2
Only a binary is offered by the reason no margin of time is.

1. Install
C:\Progrem Files\PostgreSQL\8.3 <=3D=3D=3D this path is fixation.

make date: 2009.05.13

Hiroshi Saito
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

i copied the these files to C:\Progrem Files\PostgreSQL\8.3

after that i opened Installer folder
there i get readme file which contains
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
This directory contains the Slony-I installer for Windows. To build the
installer, you will need a copy of WiX installed somewhere in your system
path. The installer has been tested with WiX version 2.0.2419 only at the
time writing. WiX may be downloaded from:

  http://sourceforge.net/projects/wix/.

In order to build the installer, first ensure that a suitable binary is in
the $SRC\Release directory, then, from the $SRC\Installer directory run:

C:\Slony-I\Installer> make 1.2.7

The version number will default to a value set in the Make.bat batch file if
not specified on the command line. 2 files will be built:

Slony1.msm - A merge module for use in other projects.
Slony1.msi - A Windows Installer package for standalone use.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D

I am not able to understand can anyone help me its urgent

regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-hackers/attachments/20090811/=
1423f840/attachment.htm
From z-saito at guitar.ocn.ne.jp  Wed Aug 12 09:15:29 2009
From: z-saito at guitar.ocn.ne.jp (Hiroshi Saito)
Date: Wed Aug 12 09:15:43 2009
Subject: [Slony1-hackers] Re: Re: question about slony 2.0.2 binaries for
	Windows and pg 8.3
References: <E1Mb7SM-0006Eh-9T@www11.emo.freenet-rz.de>
Message-ID: <AE5E26DCB73A40F8968532E23479F320@HIRO57887DE653>

Hi Wolfgang-san.

Umm, It is very strange....
However, you have a problem actually. sorry, I don't have have margin time till
a weekend. other someone may have early solution.

and,
Thanks! to peter-san.!

Regards,
Hiroshi Saito

----- Original Message ----- 
From: <rissler.wolfgang@freenet.de>
To: "Hiroshi Saito" <z-saito@guitar.ocn.ne.jp>
Sent: Wednesday, August 12, 2009 3:37 PM
Subject: Re: Re: question about slony 2.0.2 binaries for Windows and pg 8.3


Hello Mr. Saito,

Thank you for answering.
Yes, the Path is exactly as you described.
I tryed 3 Variants:
1) I took a raw new pg8.3 (added PostGIS support what brings
libiconv-2.dll to PostgreSQL8.4bin, which is needed
for slonik to run) and copied your files in it.
I followed the instruction from Peter Geoghegan
to create the MinGW path and put slony*.sql script in it.
2) In this gp8.3 I installed a slony 1.2 with Stackbuilder
then I overrided the 1.2 files with your  rev2.0.2
(Because there could be some registration of slony
while installation in conf files or registry)
3) I removed pg 8.3 and installed pg 8.4 and copied your
binaries for pg84 in it. Same message:

single_init_cluster.slonik:5: PGRES_FATAL_ERROR load '$libdir/slony1_funcs';  -
FEHLER:  konnte Bibliothek C:/Programme/PostgreSQL/8.4/lib/slony1_funcs.dll
nicht laden: unknown error 5 single_init_cluster.slonik:5: Error: the extension
for the Slony-I C functions c annot be loaded in database 'dbname=abcde
host=xxxxx user=slonyuser password=**'

(FEHLER:  konnte Bibliothek C:/Programme/PostgreSQL/8.4/lib/slony1_funcs.dll
nicht laden:
German for :
ERROR could not load library: C:/Programme/PostgreSQL/8.4/lib/slony1_funcs.dll
)

The same scripts worked with Slony 1.2 and pg8.3.
Your slon.exe 2.0.2 also runs fine.
When I understand the message right, so the postgres-server has to load
the dll but cant do this for some reason.

I also tried to preload the slony1_func.dll with option in
postgres.conf with
shared_preload_libraries and
local_preload_libraries.
Then the message changes to: access denied to slony1_func.

I'm shure that the path to dll ist right:
 C:/Programme/PostgreSQL/8.4/lib/slony1_funcs.dll
the load must fail for another reason.

Interesting, that a part of the message is in german.
It seem to be genarated fom the system or postgres, what I
switched to locale germany while installation.

Do I have to tell the database or the database-server in
any way to load the dlls?
Or do I need something from MinGW or GnuWin32 in my system?

Peter Geoghegan answered me, that it works fine at his Vista
System, and this seems to be the only difference
I'm using WinXP SP3.

Maybe you have any idea what things make running.
If you need athor information abaout my system or I should do
some tests here, please let me know.

Regards,
Wolfgang Ri?ler

----- original Nachricht --------

Betreff: Re: question about slony 2.0.2 binaries for Windows and pg 8.3
Gesendet: Di 11 Aug 2009 15:52:50 CEST
Von: "Hiroshi Saito"<z-saito@guitar.ocn.ne.jp>

> Hi Wolfgang-san.
>
> Um, Is Installation path arranged as follows?
>
> /8.3
> /bin
>     pthreadGC2.dll
>     slon.exe
>     slonik.exe
> /lib
>     slevent.dll
>     slony1_funcs.dll
> /share
>     slony1_base.sql
>     slony1_funcs.sql
>     slony1_funcs.v83.sql
>     slony1_base.v83.sql
>
> Regards,
> Hiroshi Saito
[snip]


From peter.geoghegan86 at gmail.com  Wed Aug 12 12:48:12 2009
From: peter.geoghegan86 at gmail.com (Peter Geoghegan)
Date: Wed Aug 12 13:15:26 2009
Subject: [Slony1-hackers] Re: Re: question about slony 2.0.2 binaries for
	Windows and pg 8.3
In-Reply-To: <AE5E26DCB73A40F8968532E23479F320@HIRO57887DE653>
References: <E1Mb7SM-0006Eh-9T@www11.emo.freenet-rz.de>
	<AE5E26DCB73A40F8968532E23479F320@HIRO57887DE653>
Message-ID: <db471ace0908121248k20b865adhd90f7d2669a6db3e@mail.gmail.com>

Hiroshi, Wolfgang
>
> and,
> Thanks! to peter-san.!

No problem, you're welcome.


> Peter Geoghegan answered me, that it works fine at his Vista
> System, and this seems to be the only difference
> I'm using WinXP SP3.
>

This actually isn't true.....it is working, but not fine.

see :

http://lists.slony.info/pipermail/slony1-general/2009-August/009760.html

Basically, there's a problem with the sl_status view where it reports
a long event lag, even though things actually are observably
replicating.

I'm no closer to solving this problem then when I posted this on
August 5th. I have no idea what the problem is. It may having nothing
to do with your Slony-I 2.0.2 binary package Hiroshi.

Regards,
Peter Geoghegan
From devrim at gunduz.org  Wed Aug 12 13:53:51 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Wed Aug 12 13:54:14 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/tools/altperl
 slon-tools.pm slon_tools.conf-sample
In-Reply-To: <1249383114.12242.3.camel@hp-laptop2.gunduz.org>
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
Message-ID: <1250110431.9862.1.camel@hp-laptop2.gunduz.org>

T24gVHVlLCAyMDA5LTA4LTA0IGF0IDEzOjUyICswMzAwLCBEZXZyaW0gR8OcTkTDnFogd3JvdGU6
Cj4gPiAKPiA+IEFkZCBhICJMT0dfTkFNRV9TVUZGSVgiIHZhcmlhYmxlIHRvIHNsb24tdG9vbHMg
dG8gYWxsb3cgY2VudHJhbGx5Cj4gPiBjb25maWd1cmF0aW5nIHRoZSBmaWxlbmFtZSBmb3IgbG9n
IGZpbGVzCj4gCj4gVGhpcyBwYXRjaCBicm9rZSBsb2dnaW5nOgoKSnVzdCBmaXhlZCBpdCBvbiAy
LjAgYnJhbmNoIGFuZCBIRUFELiBUaGFua3MgdG8gQW5kcmV3IER1bnN0YW4gYW5kIERhdmlkCkZl
dHRlciBmb3IgcGVybCBoZWxwLgoKQ2hyaXMsIGFueSBvcGVuIGJ1Z3MgbGVmdCBmb3IgMi4wLjM/
IFdhbm5hIHJlbGVhc2UgYW4gUkMyIHRvZGF5PwoKUmVnYXJkcywKLS0gCkRldnJpbSBHw5xORMOc
WiwgUkhDRQpDb21tYW5kIFByb21wdCAtIGh0dHA6Ly93d3cuQ29tbWFuZFByb21wdC5jb20gCmRl
dnJpbX5ndW5kdXoub3JnLCBkZXZyaW1+UG9zdGdyZVNRTC5vcmcsIGRldnJpbS5ndW5kdXp+bGlu
dXgub3JnLnRyCiAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3Lmd1bmR1ei5vcmcKLS0tLS0t
LS0tLS0tLS0gbmV4dCBwYXJ0IC0tLS0tLS0tLS0tLS0tCkEgbm9uLXRleHQgYXR0YWNobWVudCB3
YXMgc2NydWJiZWQuLi4KTmFtZTogbm90IGF2YWlsYWJsZQpUeXBlOiBhcHBsaWNhdGlvbi9wZ3At
c2lnbmF0dXJlClNpemU6IDE5NyBieXRlcwpEZXNjOiBUaGlzIGlzIGEgZGlnaXRhbGx5IHNpZ25l
ZCBtZXNzYWdlIHBhcnQKVXJsIDogaHR0cDovL2xpc3RzLnNsb255LmluZm8vcGlwZXJtYWlsL3Ns
b255MS1oYWNrZXJzL2F0dGFjaG1lbnRzLzIwMDkwODEyLzQ5MjZlZjFkL2F0dGFjaG1lbnQucGdw
Cg==
From devrim at gunduz.org  Wed Aug 12 14:21:00 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Wed Aug 12 14:21:27 2009
Subject: [Slony1-hackers] 8.3+ replication with implicit casts re-added
In-Reply-To: <873a7zfzr2.fsf@dba2.int.libertyrms.com>
References: <1249405432.2744.20.camel@hp-laptop2.gunduz.org>
	<87prbagi4d.fsf@dba2.int.libertyrms.com>
	<1249907521.5122.10.camel@hp-laptop2.gunduz.org>
	<873a7zfzr2.fsf@dba2.int.libertyrms.com>
Message-ID: <1250112060.9862.2.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTEwIGF0IDExOjM1IC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gCj4gSnVzdCBjb21taXR0ZWQgdGhpcywgYWZ0ZXIgZ29pbmcgdGhyb3VnaCAqQUxMKiB0
aGUgYXBwZW5kcyAofHwpIGluCj4gc2xvbnkxX2Z1bmNzLnNxbCB0byBzZWUgd2hlcmUgd2UncmUg
YXBwZW5kaW5nIGludGVnZXJzLgoKQ3VycmVudCBDVlMgdmVyc2lvbiBoYXMgYmVlbiBydW5uaW5n
IHdpdGhvdXQgYW4gaXNzdWUgaW4gdGhlIHRlc3QKY2x1c3RlciAoZXZlbiB0aG91Z2ggdGhlcmUg
aXMgbm8gYWN0aXZpdHkgb24gaXQgOikgKS4gSnVzdCBhIEZZSS4KLS0gCkRldnJpbSBHw5xORMOc
WiwgUkhDRQpDb21tYW5kIFByb21wdCAtIGh0dHA6Ly93d3cuQ29tbWFuZFByb21wdC5jb20gCmRl
dnJpbX5ndW5kdXoub3JnLCBkZXZyaW1+UG9zdGdyZVNRTC5vcmcsIGRldnJpbS5ndW5kdXp+bGlu
dXgub3JnLnRyCiAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3Lmd1bmR1ei5vcmcKLS0tLS0t
LS0tLS0tLS0gbmV4dCBwYXJ0IC0tLS0tLS0tLS0tLS0tCkEgbm9uLXRleHQgYXR0YWNobWVudCB3
YXMgc2NydWJiZWQuLi4KTmFtZTogbm90IGF2YWlsYWJsZQpUeXBlOiBhcHBsaWNhdGlvbi9wZ3At
c2lnbmF0dXJlClNpemU6IDE5NyBieXRlcwpEZXNjOiBUaGlzIGlzIGEgZGlnaXRhbGx5IHNpZ25l
ZCBtZXNzYWdlIHBhcnQKVXJsIDogaHR0cDovL2xpc3RzLnNsb255LmluZm8vcGlwZXJtYWlsL3Ns
b255MS1oYWNrZXJzL2F0dGFjaG1lbnRzLzIwMDkwODEzLzQ3MmNkMTI1L2F0dGFjaG1lbnQucGdw
Cg==
From cbbrowne at ca.afilias.info  Wed Aug 12 15:21:46 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Wed Aug 12 15:22:17 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/tools/altperl
	slon-tools.pm slon_tools.conf-sample
In-Reply-To: <1250110431.9862.1.camel@hp-laptop2.gunduz.org> ("Devrim
	=?utf-8?B?R8OcTkTDnFoiJ3M=?= message of "Wed,
	12 Aug 2009 23:53:51 +0300")
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
	<1250110431.9862.1.camel@hp-laptop2.gunduz.org>
Message-ID: <87skfwr7ut.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> On Tue, 2009-08-04 at 13:52 +0300, Devrim G?ND?Z wrote:
>> > 
>> > Add a "LOG_NAME_SUFFIX" variable to slon-tools to allow centrally
>> > configurating the filename for log files
>> 
>> This patch broke logging:
>
> Just fixed it on 2.0 branch and HEAD. Thanks to Andrew Dunstan and David
> Fetter for perl help.
>
> Chris, any open bugs left for 2.0.3? Wanna release an RC2 today?

Will do!
-- 
"cbbrowne","@","ca.afilias.info"
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From cbbrowne at ca.afilias.info  Wed Aug 12 15:26:13 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Wed Aug 12 15:26:34 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/tools/altperl
	slon-tools.pm slon_tools.conf-sample
In-Reply-To: <1250110431.9862.1.camel@hp-laptop2.gunduz.org> ("Devrim
	=?utf-8?B?R8OcTkTDnFoiJ3M=?= message of "Wed,
	12 Aug 2009 23:53:51 +0300")
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
	<1250110431.9862.1.camel@hp-laptop2.gunduz.org>
Message-ID: <87ocqkr7ne.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> On Tue, 2009-08-04 at 13:52 +0300, Devrim G?ND?Z wrote:
>> > 
>> > Add a "LOG_NAME_SUFFIX" variable to slon-tools to allow centrally
>> > configurating the filename for log files
>> 
>> This patch broke logging:
>
> Just fixed it on 2.0 branch and HEAD. Thanks to Andrew Dunstan and David
> Fetter for perl help.
>
> Chris, any open bugs left for 2.0.3? Wanna release an RC2 today?

Tagged and uploaded...
-- 
output = ("cbbrowne" "@" "ca.afilias.info")
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From cbbrowne at ca.afilias.info  Wed Aug 12 15:30:55 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Wed Aug 12 15:31:17 2009
Subject: [Slony1-hackers] Re: [Slony1-commit] slony1-engine/tools/altperl
	slon-tools.pm slon_tools.conf-sample
In-Reply-To: <1250110431.9862.1.camel@hp-laptop2.gunduz.org> ("Devrim
	=?utf-8?B?R8OcTkTDnFoiJ3M=?= message of "Wed,
	12 Aug 2009 23:53:51 +0300")
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
	<1250110431.9862.1.camel@hp-laptop2.gunduz.org>
Message-ID: <87k518r7fk.fsf@dba2.int.libertyrms.com>

Devrim G?ND?Z <devrim@gunduz.org> writes:
> On Tue, 2009-08-04 at 13:52 +0300, Devrim G?ND?Z wrote:
>> > 
>> > Add a "LOG_NAME_SUFFIX" variable to slon-tools to allow centrally
>> > configurating the filename for log files
>> 
>> This patch broke logging:
>
> Just fixed it on 2.0 branch and HEAD. Thanks to Andrew Dunstan and David
> Fetter for perl help.
>
> Chris, any open bugs left for 2.0.3? Wanna release an RC2 today?

Done!
-- 
(reverse (concatenate 'string "ofni.sailifa.ac" "@" "enworbbc"))
<http://dba2.int.libertyrms.com/>
Christopher Browne
(416) 673-4124 (land)
"Bother,"  said Pooh,  "Eeyore, ready  two photon  torpedoes  and lock
phasers on the Heffalump, Piglet, meet me in transporter room three"
From devrim at gunduz.org  Wed Aug 12 21:34:43 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Wed Aug 12 21:35:32 2009
Subject: [Slony1-hackers] Re: [Slony1-commit]
	slony1-engine/tools/altperl slon-tools.pm slon_tools.conf-sample
In-Reply-To: <87k518r7fk.fsf@dba2.int.libertyrms.com>
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
	<1250110431.9862.1.camel@hp-laptop2.gunduz.org>
	<87k518r7fk.fsf@dba2.int.libertyrms.com>
Message-ID: <1250138083.9862.6.camel@hp-laptop2.gunduz.org>

T24gV2VkLCAyMDA5LTA4LTEyIGF0IDE4OjMwIC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gPiBDaHJpcywgYW55IG9wZW4gYnVncyBsZWZ0IGZvciAyLjAuMz8gV2FubmEgcmVsZWFz
ZSBhbiBSQzIgdG9kYXk/Cj4gCj4gRG9uZSEKClRoYW5rcyA6KSBXaWxsIHRlc3QgdG9kYXkuCi0t
IApEZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1h
bmRQcm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBk
ZXZyaW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5n
dW5kdXoub3JnCi0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10
ZXh0IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTog
YXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBh
IGRpZ2l0YWxseSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5p
bmZvL3BpcGVybWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2htZW50cy8yMDA5MDgxMy9iMjllZDY2
OS9hdHRhY2htZW50LnBncAo=
From z-saito at guitar.ocn.ne.jp  Thu Aug 13 06:33:01 2009
From: z-saito at guitar.ocn.ne.jp (Hiroshi Saito)
Date: Thu Aug 13 06:33:09 2009
Subject: [Slony1-hackers] how to "make installer for windows"
References: <9fa914ca0908110941o60f275c6t613b93ad9e265ebf@mail.gmail.com>
Message-ID: <527FC1118BFD486FACE814FFC44AB1DC@HIRO57887DE653>

Dear nagaraj.

Sorry very late reaction....

Simply, the installer script was very old. Therefore, I remade for 2.0.2 and  pg84.
http://developer.pgadmin.org/~hiroshi/Slony-I/slony202_pg84_installer_src.zip
I think that it is easy for you to rewrite to 8.3.
I appreciate your perseverance. thanks!

Regards,
Hiroshi Saito

----- Original Message ----- 
From: "nagaraj shindagi" <nagaraj.shindagi@gmail.com>


> hi friends,
>
> i am using PG 8.3 for windows, and slony 1.2.5, now i want upgrade to
> slony-I 2.0.2. so i downloaded source from Slony.info, *win32 binary is
> slony-I-2.0.2R-pg83.zip<http://developer.pgadmin.org/%7Ehiroshi/Slony-I/slony-I-2.0.2R-pg83.zip>and
> **installer script source is
> slony_installer.zip<http://developer.pgadmin.org/%7Ehiroshi/Slony-I/slony_installer.zip>from
> http://developer.pgadmin.org/~hiroshi/Slony-I/<http://developer.pgadmin.org/%7Ehiroshi/Slony-I/>
> *. Destination of download file to Desktop. i extracted all these files in
> desktop only.
>
> now i followed the instrcution which is given in win32 binary folder.
> this is the readme file
> ===============================================
> This is Slony Version 2.0.2
> Only a binary is offered by the reason no margin of time is.
>
> 1. Install
> C:\Progrem Files\PostgreSQL\8.3 <=== this path is fixation.
>
> make date: 2009.05.13
>
> Hiroshi Saito
> ============================================
>
> i copied the these files to C:\Progrem Files\PostgreSQL\8.3
>
> after that i opened Installer folder
> there i get readme file which contains
> ============================================
> This directory contains the Slony-I installer for Windows. To build the
> installer, you will need a copy of WiX installed somewhere in your system
> path. The installer has been tested with WiX version 2.0.2419 only at the
> time writing. WiX may be downloaded from:
>
>  http://sourceforge.net/projects/wix/.
>
> In order to build the installer, first ensure that a suitable binary is in
> the $SRC\Release directory, then, from the $SRC\Installer directory run:
>
> C:\Slony-I\Installer> make 1.2.7
>
> The version number will default to a value set in the Make.bat batch file if
> not specified on the command line. 2 files will be built:
>
> Slony1.msm - A merge module for use in other projects.
> Slony1.msi - A Windows Installer package for standalone use.
> ==========================================================
>
> I am not able to understand can anyone help me its urgent
>
> regards
>


--------------------------------------------------------------------------------


> _______________________________________________
> Slony1-hackers mailing list
> Slony1-hackers@lists.slony.info
> http://lists.slony.info/mailman/listinfo/slony1-hackers
> 


From nagaraj.shindagi at gmail.com  Thu Aug 13 22:39:54 2009
From: nagaraj.shindagi at gmail.com (nagaraj shindagi)
Date: Thu Aug 13 22:40:30 2009
Subject: [Slony1-hackers] not able to access file
Message-ID: <9fa914ca0908132239q33b2668eyfd2d72a0639bdaae@mail.gmail.com>

hi

now i am using pg8.4 , i downloaded slony from stackbuilder, after
>>>> installation i trying to create cluster but i am facing an " *error:co=
uld
>>>> not access file "$libdir/xxid": No such file or directory*"
>>>
>>>
what will be the problem ?
how can we resolve it ?
please help me its very urgent?


thanks in advance
reagards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-hackers/attachments/20090814/=
4b0e8928/attachment.htm
From z-saito at guitar.ocn.ne.jp  Fri Aug 14 08:37:23 2009
From: z-saito at guitar.ocn.ne.jp (Hiroshi Saito)
Date: Fri Aug 14 08:37:36 2009
Subject: [Slony1-hackers] Re: Re: news about slony 2.0.2 binaries for Windows
References: <E1MbrRa-0007Ge-8X@www19.emo.freenet-rz.de>
Message-ID: <5B3FC11A195D4D0B951BE702A2F952C8@HIRO57887DE653>

Hi.

This is recorded here by the reason for being the information on very important.
Thanks!

Regards,
Hiroshi Saito

----- Original Message ----- 
From: <rissler.wolfgang@freenet.de>


Hello Slony-Experts,

my test have finished. Since I had nor lick to get more stability on
pg8.4 with slony 2.0.2 and three nodes in one cluster, I tested the
most simple configuration, a two node cluster. Switchover runs fine,
but failover was a disaster. (Slons stopped, failover slonik-script hangs...)
I'll give it  one more hour for testing, then
I have to write my own replication. (This will be a nice weekend).
I'm a little bit frustrated.

With greetings from Germany
Wolfgang Ri?ler

----- original Nachricht --------

Betreff: Re: news about slony 2.0.2 binaries for Windows
Gesendet: Do 13 Aug 2009 15:37:33 CEST
Von: "Hiroshi Saito"<z-saito@guitar.ocn.ne.jp>

> Hi.
>
> ----- Original Message ----- 
> From: "Peter Geoghegan" <peter.geoghegan86@gmail.com>
>
>
> >> I could start my initially Slonik-Testscript and there was only a
> message,
> >> that slonik will default to pg8.3 mode, because there are no scripts for
> >> pg8.4 (what is the same in your binaries, I think).
> >
> > That's normal for Slony-I 2.0.2; It's just been fixed in 2.0.3RC.
>
> Yeah, I hopefully it.!:-)
>
> Regards,
> Hiroshi Saito
>
>


From devrim at gunduz.org  Sun Aug 16 01:55:37 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Sun Aug 16 01:56:55 2009
Subject: [Slony1-hackers] Copyright updates
Message-ID: <1250412937.3072.1.camel@hp-laptop2.gunduz.org>

CkJvdGggd2Vic2l0ZXMgYW5kIGNvZGUgaGF2ZSAgwqkgMjAwNC0yMDA3LiBTaG91bGQgSSB1cGRh
dGUgaXQgdG8gMjAwOSA/CgpSZWdhcmRzLAotLSAKRGV2cmltIEfDnE5Ew5xaLCBSSENFCkNvbW1h
bmQgUHJvbXB0IC0gaHR0cDovL3d3dy5Db21tYW5kUHJvbXB0LmNvbSAKZGV2cmltfmd1bmR1ei5v
cmcsIGRldnJpbX5Qb3N0Z3JlU1FMLm9yZywgZGV2cmltLmd1bmR1en5saW51eC5vcmcudHIKICAg
ICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cuZ3VuZHV6Lm9yZwotLS0tLS0tLS0tLS0tLSBuZXh0
IHBhcnQgLS0tLS0tLS0tLS0tLS0KQSBub24tdGV4dCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4u
LgpOYW1lOiBub3QgYXZhaWxhYmxlClR5cGU6IGFwcGxpY2F0aW9uL3BncC1zaWduYXR1cmUKU2l6
ZTogMTk3IGJ5dGVzCkRlc2M6IFRoaXMgaXMgYSBkaWdpdGFsbHkgc2lnbmVkIG1lc3NhZ2UgcGFy
dApVcmwgOiBodHRwOi8vbGlzdHMuc2xvbnkuaW5mby9waXBlcm1haWwvc2xvbnkxLWhhY2tlcnMv
YXR0YWNobWVudHMvMjAwOTA4MTYvMzhjNzM1YWIvYXR0YWNobWVudC5wZ3AK
From cbbrowne at ca.afilias.info  Mon Aug 17 08:41:07 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Mon Aug 17 08:41:29 2009
Subject: [Slony1-hackers] Copyright updates
In-Reply-To: <1250412937.3072.1.camel@hp-laptop2.gunduz.org>
References: <1250412937.3072.1.camel@hp-laptop2.gunduz.org>
Message-ID: <4A897A13.7050709@ca.afilias.info>

Devrim G?ND?Z wrote:
> Both websites and code have  ? 2004-2007. Should I update it to 2009 ?
>
> Regards,
>   
Seems reasonable to me...
From devrim at gunduz.org  Mon Aug 17 09:07:16 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 17 09:07:40 2009
Subject: [Slony1-hackers] Re: [Slony1-commit]
	slony1-engine/tools/altperl slon-tools.pm slon_tools.conf-sample
In-Reply-To: <1250138083.9862.6.camel@hp-laptop2.gunduz.org>
References: <20090728152429.5D31C29035D@main.slony.info>
	<1249383114.12242.3.camel@hp-laptop2.gunduz.org>
	<1250110431.9862.1.camel@hp-laptop2.gunduz.org>
	<87k518r7fk.fsf@dba2.int.libertyrms.com>
	<1250138083.9862.6.camel@hp-laptop2.gunduz.org>
Message-ID: <1250525236.12546.1.camel@hp-laptop2.gunduz.org>

T24gVGh1LCAyMDA5LTA4LTEzIGF0IDA3OjM0ICswMzAwLCBEZXZyaW0gR8OcTkTDnFogd3JvdGU6
Cj4gPiA+IENocmlzLCBhbnkgb3BlbiBidWdzIGxlZnQgZm9yIDIuMC4zPyBXYW5uYSByZWxlYXNl
IGFuIFJDMiB0b2RheT8KPiA+IAo+ID4gRG9uZSEKPiAKPiBUaGFua3MgOikgV2lsbCB0ZXN0IHRv
ZGF5LgoKSXQgbG9va3MgZmluZSBmcm9tIG1lLiBJZiB0aGVyZSBhcmUgbm90IGFueSBtb3JlIGlz
c3VlcywgSSBiZWxpZXZlIHlvdQpjYW4gcHVzaCAyLjAuMy4KClJlZ2FyZHMsCi0tIApEZXZyaW0g
R8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQcm9tcHQu
Y29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBkZXZyaW0uZ3Vu
ZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5ndW5kdXoub3Jn
Ci0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0IGF0dGFj
aG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTogYXBwbGljYXRp
b24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBhIGRpZ2l0YWxs
eSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZvL3BpcGVy
bWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2htZW50cy8yMDA5MDgxNy9iMDA3NTcyOC9hdHRhY2ht
ZW50LnBncAo=
From devrim at gunduz.org  Mon Aug 17 10:41:39 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 17 10:42:06 2009
Subject: [Slony1-hackers] Copyright updates
In-Reply-To: <4A897A13.7050709@ca.afilias.info>
References: <1250412937.3072.1.camel@hp-laptop2.gunduz.org>
	<4A897A13.7050709@ca.afilias.info>
Message-ID: <1250530899.12546.3.camel@hp-laptop2.gunduz.org>

T24gTW9uLCAyMDA5LTA4LTE3IGF0IDExOjQxIC0wNDAwLCBDaHJpc3RvcGhlciBCcm93bmUgd3Jv
dGU6Cj4gPiBCb3RoIHdlYnNpdGVzIGFuZCBjb2RlIGhhdmUgIMKpIDIwMDQtMjAwNy4gU2hvdWxk
IEkgdXBkYXRlIGl0IHRvCj4gMjAwOSA/Cj4gPiAgIAo+IFNlZW1zIHJlYXNvbmFibGUgdG8gbWUu
Li4KCkFsbCBhcmUgZG9uZS4KClJlZ2FyZHMsCi0tIApEZXZyaW0gR8OcTkTDnFosIFJIQ0UKQ29t
bWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQcm9tcHQuY29tIApkZXZyaW1+Z3VuZHV6
Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBkZXZyaW0uZ3VuZHV6fmxpbnV4Lm9yZy50cgog
ICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5ndW5kdXoub3JnCi0tLS0tLS0tLS0tLS0tIG5l
eHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0IGF0dGFjaG1lbnQgd2FzIHNjcnViYmVk
Li4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTogYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZQpT
aXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBhIGRpZ2l0YWxseSBzaWduZWQgbWVzc2FnZSBw
YXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZvL3BpcGVybWFpbC9zbG9ueTEtaGFja2Vy
cy9hdHRhY2htZW50cy8yMDA5MDgxNy9kNTNhMzJiMi9hdHRhY2htZW50LnBncAo=
From devrim at gunduz.org  Mon Aug 17 14:51:02 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Mon Aug 17 14:51:51 2009
Subject: [Slony1-hackers] Default log directory in slon_tools.conf
Message-ID: <1250545862.24620.8.camel@hp-laptop2.gunduz.org>

CkkgYW0gd29ya2luZyBvbiBzb21lIFJQTSBwYWNrYWdpbmcgaXNzdWVzIG9mIFNsb255LUksIGFu
ZCBvbmUgb2YgdGhlbSBpcwp0aGUgTE9HRElSIGluIHNsb25fdG9vbHMuY29uZi4gQ3VycmVudGx5
IGl0IGlzOgoKL3Zhci9sb2cvc2xvbnkKCkhvd2V2ZXIsIFVidW50dSAmIERlYmlhbiBjaGFuZ2Vz
IGl0IHRvIC92YXIvbG9nL3Nsb255MSAtLSBhbmQgSSdtIGFsc28KaW5jbGluZWQgdG8gcGF0Y2gg
aXQgc28uCgpTbyBJIHdvdWxkIGxpa2UgdG8gY2hhbmdlIGl0IHRvIC92YXIvbG9nL3Nsb255MSBz
byB0aGF0IGRpc3Ryb3Mgd29uJ3QKbmVlZCB0byBzaGlwIGEgc2ltcGxlIHBhdGNoIGZvciB0aGlz
LgoKQmFycmluZyBhbnkgb2JqZWN0aW9ucywgSSdsbCBjb21taXQgaXQgaW4gYW4gaG91ciBzbyB0
aGF0IGl0IHdpbGwgYmUKaW5jbHVkZWQgaW4gMi4wLjMgYW5kIDEuMi4xNy4KCi0tIApEZXZyaW0g
R8OcTkTDnFosIFJIQ0UKQ29tbWFuZCBQcm9tcHQgLSBodHRwOi8vd3d3LkNvbW1hbmRQcm9tcHQu
Y29tIApkZXZyaW1+Z3VuZHV6Lm9yZywgZGV2cmltflBvc3RncmVTUUwub3JnLCBkZXZyaW0uZ3Vu
ZHV6fmxpbnV4Lm9yZy50cgogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5ndW5kdXoub3Jn
Ci0tLS0tLS0tLS0tLS0tIG5leHQgcGFydCAtLS0tLS0tLS0tLS0tLQpBIG5vbi10ZXh0IGF0dGFj
aG1lbnQgd2FzIHNjcnViYmVkLi4uCk5hbWU6IG5vdCBhdmFpbGFibGUKVHlwZTogYXBwbGljYXRp
b24vcGdwLXNpZ25hdHVyZQpTaXplOiAxOTcgYnl0ZXMKRGVzYzogVGhpcyBpcyBhIGRpZ2l0YWxs
eSBzaWduZWQgbWVzc2FnZSBwYXJ0ClVybCA6IGh0dHA6Ly9saXN0cy5zbG9ueS5pbmZvL3BpcGVy
bWFpbC9zbG9ueTEtaGFja2Vycy9hdHRhY2htZW50cy8yMDA5MDgxOC80NDVlNjM0ZC9hdHRhY2ht
ZW50LnBncAo=
From devrim at gunduz.org  Wed Aug 19 05:07:37 2009
From: devrim at gunduz.org (Devrim =?ISO-8859-1?Q?G=DCND=DCZ?=)
Date: Wed Aug 19 05:07:59 2009
Subject: [Slony1-hackers] Script to check status of slon daemons
Message-ID: <1250683657.13132.307.camel@hp-laptop2.gunduz.org>

U2tpcHBlZCBjb250ZW50IG9mIHR5cGUgbXVsdGlwYXJ0L21peGVkLS0tLS0tLS0tLS0tLS0gbmV4
dCBwYXJ0IC0tLS0tLS0tLS0tLS0tCkEgbm9uLXRleHQgYXR0YWNobWVudCB3YXMgc2NydWJiZWQu
Li4KTmFtZTogbm90IGF2YWlsYWJsZQpUeXBlOiBhcHBsaWNhdGlvbi9wZ3Atc2lnbmF0dXJlClNp
emU6IDE5NyBieXRlcwpEZXNjOiBUaGlzIGlzIGEgZGlnaXRhbGx5IHNpZ25lZCBtZXNzYWdlIHBh
cnQKVXJsIDogaHR0cDovL2xpc3RzLnNsb255LmluZm8vcGlwZXJtYWlsL3Nsb255MS1oYWNrZXJz
L2F0dGFjaG1lbnRzLzIwMDkwODE5L2FkYzk0N2M2L2F0dGFjaG1lbnQucGdwCg==
From wmoran at collaborativefusion.com  Thu Aug 27 06:14:44 2009
From: wmoran at collaborativefusion.com (Bill Moran)
Date: Thu Aug 27 06:14:56 2009
Subject: [Slony1-hackers] ERROR:  could not read block 2 of relation
Message-ID: <20090827091444.fd354484.wmoran@collaborativefusion.com>


(Very) Occasionally, we see these errors from Slony:

ERROR  remoteListenThread_1: "listen "_schema_name"; " - ERROR:  could not read block 2 of relation

To the tune of, seen it about 5 times in the last 6 months.  Now that we
have a few examples of it, it seems to occur only when the server is
under heavy load.

Is there anything here to be concerned about?  Or is this just a byproduct
of the database responding slowly at times?

This is PostgreSQL 8.3 on FreeBSD 6, using the latest Slony 1.2  (although
there have been varying versions over the last 6 months)

-- 
Bill Moran
Collaborative Fusion Inc.
http://people.collaborativefusion.com/~wmoran/

wmoran@collaborativefusion.com
Phone: 412-422-3463x4023

****************************************************************
IMPORTANT: This message contains confidential information and is
intended only for the individual named. If the reader of this
message is not an intended recipient (or the individual
responsible for the delivery of this message to an intended
recipient), please be advised that any re-use, dissemination,
distribution or copying of this message is prohibited. Please
notify the sender immediately by e-mail if you have received
this e-mail by mistake and delete this e-mail from your system.
E-mail transmission cannot be guaranteed to be secure or
error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The
sender therefore does not accept liability for any errors or
omissions in the contents of this message, which arise as a
result of e-mail transmission.
****************************************************************
From tgl at sss.pgh.pa.us  Thu Aug 27 07:50:30 2009
From: tgl at sss.pgh.pa.us (Tom Lane)
Date: Thu Aug 27 07:50:51 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation 
In-Reply-To: <20090827091444.fd354484.wmoran@collaborativefusion.com> 
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>
Message-ID: <3544.1251384630@sss.pgh.pa.us>

Bill Moran <wmoran@collaborativefusion.com> writes:
> (Very) Occasionally, we see these errors from Slony:
> ERROR  remoteListenThread_1: "listen "_schema_name"; " - ERROR:  could not read block 2 of relation

> To the tune of, seen it about 5 times in the last 6 months.  Now that we
> have a few examples of it, it seems to occur only when the server is
> under heavy load.

> Is there anything here to be concerned about?

Yeah, I'd say so.  But it's hard to guess what's happening since you
left out the most important part of the message, ie the kernel error
message.

> This is PostgreSQL 8.3 on FreeBSD 6, using the latest Slony 1.2  (although
> there have been varying versions over the last 6 months)

8.3.what?

			regards, tom lane
From wmoran at collaborativefusion.com  Thu Aug 27 08:15:50 2009
From: wmoran at collaborativefusion.com (Bill Moran)
Date: Thu Aug 27 08:16:01 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation
In-Reply-To: <3544.1251384630@sss.pgh.pa.us>
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>
	<3544.1251384630@sss.pgh.pa.us>
Message-ID: <20090827111550.13c5892c.wmoran@collaborativefusion.com>

In response to Tom Lane <tgl@sss.pgh.pa.us>:

> Bill Moran <wmoran@collaborativefusion.com> writes:
> > (Very) Occasionally, we see these errors from Slony:
> > ERROR  remoteListenThread_1: "listen "_schema_name"; " - ERROR:  could not read block 2 of relation
> 
> > To the tune of, seen it about 5 times in the last 6 months.  Now that we
> > have a few examples of it, it seems to occur only when the server is
> > under heavy load.
> 
> > Is there anything here to be concerned about?
> 
> Yeah, I'd say so.  But it's hard to guess what's happening since you
> left out the most important part of the message, ie the kernel error
> message.

Nothing in the kernel logs at the time this occurred.

The PostgreSQL log has one mysterious entry:
Aug 27 00:18:46 src@db03 postgres[37902]: [440-1] LOG:  duration: 3529.878 ms  statement: listen "_schema_name";

3 1/2 seconds seems like a long time for a listen command.  I wonder
if Slony just got tired of waiting?

> > This is PostgreSQL 8.3 on FreeBSD 6, using the latest Slony 1.2  (although
> > there have been varying versions over the last 6 months)
> 
> 8.3.what?

Currently 8.3.7, but as I mentioned, this has happened 5 times in the last
6 months, and versions have been ever climbing over that period (although
I believe this server's been on the 8.3 branch for that entire period)

[wmoran@db03 ~]$ pkg_info | grep postgres
postgresql-client-8.3.7 PostgreSQL database (client)
postgresql-contrib-8.3.7_1 The contrib utilities from the PostgreSQL distribution
postgresql-server-8.3.7 The most advanced open-source database available anywhere


-- 
Bill Moran
Collaborative Fusion Inc.
http://people.collaborativefusion.com/~wmoran/

wmoran@collaborativefusion.com
Phone: 412-422-3463x4023

****************************************************************
IMPORTANT: This message contains confidential information and is
intended only for the individual named. If the reader of this
message is not an intended recipient (or the individual
responsible for the delivery of this message to an intended
recipient), please be advised that any re-use, dissemination,
distribution or copying of this message is prohibited. Please
notify the sender immediately by e-mail if you have received
this e-mail by mistake and delete this e-mail from your system.
E-mail transmission cannot be guaranteed to be secure or
error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The
sender therefore does not accept liability for any errors or
omissions in the contents of this message, which arise as a
result of e-mail transmission.
****************************************************************
From tgl at sss.pgh.pa.us  Thu Aug 27 08:32:57 2009
From: tgl at sss.pgh.pa.us (Tom Lane)
Date: Thu Aug 27 08:33:20 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation 
In-Reply-To: <20090827111550.13c5892c.wmoran@collaborativefusion.com> 
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>
	<3544.1251384630@sss.pgh.pa.us>
	<20090827111550.13c5892c.wmoran@collaborativefusion.com>
Message-ID: <4109.1251387177@sss.pgh.pa.us>

Bill Moran <wmoran@collaborativefusion.com> writes:
> In response to Tom Lane <tgl@sss.pgh.pa.us>:
>>> Is there anything here to be concerned about?
>> 
>> Yeah, I'd say so.  But it's hard to guess what's happening since you
>> left out the most important part of the message, ie the kernel error
>> message.

> Nothing in the kernel logs at the time this occurred.

No, I'm just asking for the full text of the Postgres error report.
You left off the last part of it.

			regards, tom lane
From wmoran at collaborativefusion.com  Thu Aug 27 09:27:43 2009
From: wmoran at collaborativefusion.com (Bill Moran)
Date: Thu Aug 27 09:27:58 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation
In-Reply-To: <4109.1251387177@sss.pgh.pa.us>
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>
	<3544.1251384630@sss.pgh.pa.us>
	<20090827111550.13c5892c.wmoran@collaborativefusion.com>
	<4109.1251387177@sss.pgh.pa.us>
Message-ID: <20090827122743.5a84f8c3.wmoran@collaborativefusion.com>

In response to Tom Lane <tgl@sss.pgh.pa.us>:

> Bill Moran <wmoran@collaborativefusion.com> writes:
> > In response to Tom Lane <tgl@sss.pgh.pa.us>:
> >>> Is there anything here to be concerned about?
> >> 
> >> Yeah, I'd say so.  But it's hard to guess what's happening since you
> >> left out the most important part of the message, ie the kernel error
> >> message.
> 
> > Nothing in the kernel logs at the time this occurred.
> 
> No, I'm just asking for the full text of the Postgres error report.
> You left off the last part of it.

Oops ... syslog is breaking the error across two lines, and I didn't
connect the dots.

The full error (with the single modification that I changed the schema
name to protect the identity of the DB user):
2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-1] [72046] ERROR  remoteListenThread_1: "listen "_schema_hidden_Event"; " - ERROR:  could not
read block 1 of relation
2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-2]  1663/5969035/2614: read only 0 of 8192 bytes

-- 
Bill Moran
Collaborative Fusion Inc.
http://people.collaborativefusion.com/~wmoran/

wmoran@collaborativefusion.com
Phone: 412-422-3463x4023

****************************************************************
IMPORTANT: This message contains confidential information and is
intended only for the individual named. If the reader of this
message is not an intended recipient (or the individual
responsible for the delivery of this message to an intended
recipient), please be advised that any re-use, dissemination,
distribution or copying of this message is prohibited. Please
notify the sender immediately by e-mail if you have received
this e-mail by mistake and delete this e-mail from your system.
E-mail transmission cannot be guaranteed to be secure or
error-free as information could be intercepted, corrupted, lost,
destroyed, arrive late or incomplete, or contain viruses. The
sender therefore does not accept liability for any errors or
omissions in the contents of this message, which arise as a
result of e-mail transmission.
****************************************************************
From tgl at sss.pgh.pa.us  Thu Aug 27 10:15:49 2009
From: tgl at sss.pgh.pa.us (Tom Lane)
Date: Thu Aug 27 10:16:16 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation 
In-Reply-To: <20090827122743.5a84f8c3.wmoran@collaborativefusion.com> 
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>
	<3544.1251384630@sss.pgh.pa.us>
	<20090827111550.13c5892c.wmoran@collaborativefusion.com>
	<4109.1251387177@sss.pgh.pa.us>
	<20090827122743.5a84f8c3.wmoran@collaborativefusion.com>
Message-ID: <6159.1251393349@sss.pgh.pa.us>

Bill Moran <wmoran@collaborativefusion.com> writes:
> The full error (with the single modification that I changed the schema
> name to protect the identity of the DB user):
> 2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-1] [72046] ERROR  remoteListenThread_1: "listen "_schema_hidden_Event"; " - ERROR:  could not
> read block 1 of relation
> 2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-2]  1663/5969035/2614: read only 0 of 8192 bytes

Huh, that's a bit interesting.  Relation 2614 is pg_listener, so it's
hardly surprising that the command is trying to scan it.  But this
suggests that something concurrently truncated pg_listener, and that
should be impossible given the locking that is done.  Has slony
done anything that changes the locking behavior of LISTEN, VACUUM, etc?

			regards, tom lane
From cbbrowne at ca.afilias.info  Thu Aug 27 12:06:46 2009
From: cbbrowne at ca.afilias.info (Christopher Browne)
Date: Thu Aug 27 12:07:07 2009
Subject: [Slony1-hackers] ERROR: could not read block 2 of relation
In-Reply-To: <6159.1251393349@sss.pgh.pa.us>
References: <20090827091444.fd354484.wmoran@collaborativefusion.com>	<3544.1251384630@sss.pgh.pa.us>	<20090827111550.13c5892c.wmoran@collaborativefusion.com>	<4109.1251387177@sss.pgh.pa.us>	<20090827122743.5a84f8c3.wmoran@collaborativefusion.com>
	<6159.1251393349@sss.pgh.pa.us>
Message-ID: <4A96D946.9010904@ca.afilias.info>

Tom Lane wrote:
> Bill Moran <wmoran@collaborativefusion.com> writes:
>   
>> The full error (with the single modification that I changed the schema
>> name to protect the identity of the DB user):
>> 2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-1] [72046] ERROR  remoteListenThread_1: "listen "_schema_hidden_Event"; " - ERROR:  could not
>> read block 1 of relation
>> 2009 Aug 26 18:41:06 -04:00 bdb00 [slon][72046] [local2] [err] slon[72046]: [54-2]  1663/5969035/2614: read only 0 of 8192 bytes
>>     
>
> Huh, that's a bit interesting.  Relation 2614 is pg_listener, so it's
> hardly surprising that the command is trying to scan it.  But this
> suggests that something concurrently truncated pg_listener, and that
> should be impossible given the locking that is done.  Has slony
> done anything that changes the locking behavior of LISTEN, VACUUM, etc?
>   
I'm not sure what would modify that behavior; the only "interesting" 
thing about Slony-I's use of pg_listener is that, up thru the 1.2 
branch, every event generated generally raises a notice, so there is the 
potential of quite a lot of updating taking place to pg_listener.

We've removed nearly all of that in 2.0 - it mostly polls, instead - so 
if one is on 2.0, there should be vanishingly little usage of pg_listener.

I'm not sure if that helps; I hope so...
